define(["require", "exports", "../../common/app/main.app", "../../common/directive/tree/tree-params", "../../common/directive/tree/tree.directive.service", "../../common/services/connectTree.service"], function (require, exports, main_app_1, tree_params_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var RmpGatePopupLampController = (function () {
        function RmpGatePopupLampController($scope, connectTreeService, $timeout, rmpgateService, treeService, layer) {
            this.$scope = $scope;
            this.connectTreeService = connectTreeService;
            this.$timeout = $timeout;
            this.rmpgateService = rmpgateService;
            this.treeService = treeService;
            this.layer = layer;
            this.IsCheck = false;
            this.deviceData = angular.copy(this.$scope.deviceData);
            this.rightSelectTreeNodeId = null;
            if (!this.deviceData.JsonUserData.lampPost) {
                this.deviceData.JsonUserData.lampPost = {};
            }
            this.initTreeParams();
            this.getTreeDatas();
        }
        RmpGatePopupLampController.prototype.initTreeParams = function () {
            var _this = this;
            this.rightTreeParams = new tree_params_1.TreeDataParams(true);
            this.rightTreeParams.treeId = "RmpgatePopupRightTree";
            this.rightTreeParams.isShowIcon = true;
            this.rightTreeParams.isShowLine = false;
            this.rightTreeParams.isSimpleData = true;
            this.rightTreeParams.checkEnable = false;
            this.rightTreeParams.isSingleSelect = false;
            this.rightTreeParams.editEnable = true;
            this.rightTreeParams.showRemoveBtn = false;
            this.rightTreeParams.showRenameBtn = false;
            this.rightTreeParams.onClick = (function (event, treeId, treeNode) {
                if (treeNode.treeType === "lamp") {
                    var lampPost = {
                        ID: treeNode.ID,
                        Name: treeNode.Name
                    };
                    _this.IsCheck = true;
                    _this.deviceData.JsonUserData.lampPost = lampPost;
                }
            });
        };
        RmpGatePopupLampController.prototype.getTreeDatas = function () {
            var _this = this;
            this.connectTreeService.findLampTreeWithRmpGate().then(function (res) {
                _this.$timeout(function () {
                    _this.rightTreeParams.treeDatas = res;
                });
            });
        };
        RmpGatePopupLampController.prototype.cancel = function (flag) {
            this.$scope.$emit('device.closePopup', flag);
        };
        RmpGatePopupLampController.prototype.submit = function () {
            var _this = this;
            if (!this.IsCheck) {
                this.layer.msg("没有选择任何立杆");
                this.cancel(false);
                return;
            }
            var models = [];
            models.push({ id: this.deviceData.ID, lampId: this.deviceData.JsonUserData.lampPost.ID, deviceReId: this.deviceData.JsonUserData.deviceReId });
            this.rmpgateService.updateRmpGateLampID(models).then(function (res) {
                if (res.data && res.code === 200) {
                    _this.layer.msg("更新成功");
                    _this.cancel(true);
                }
                else {
                    _this.layer.msg("更新失败");
                }
            });
        };
        RmpGatePopupLampController.$inject = ['$scope', 'connectTreeService', '$timeout', 'rmpgateService', 'treeDirectiveService', 'layer'];
        return RmpGatePopupLampController;
    }());
    main_app_1.app.controller("baseConfigRmpgatePopupLamp", RmpGatePopupLampController);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvYmFzZWNvbmZpZy9ybXBnYXRlL3JtcGdhdGUucG9wdXBMYW1wLmNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBaUJBO1FBT0ksb0NBQ1ksTUFBVyxFQUNYLGtCQUF1QyxFQUN2QyxRQUFhLEVBQ2IsY0FBK0IsRUFDL0IsV0FBa0MsRUFDbEMsS0FBVTtZQUxWLFdBQU0sR0FBTixNQUFNLENBQUs7WUFDWCx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQXFCO1lBQ3ZDLGFBQVEsR0FBUixRQUFRLENBQUs7WUFDYixtQkFBYyxHQUFkLGNBQWMsQ0FBaUI7WUFDL0IsZ0JBQVcsR0FBWCxXQUFXLENBQXVCO1lBQ2xDLFVBQUssR0FBTCxLQUFLLENBQUs7WUFQdEIsWUFBTyxHQUFZLEtBQUssQ0FBQztZQVNyQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN0RCxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1lBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDekMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsUUFBUSxHQUFHLEVBQVksQ0FBQztZQUN6RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN4QixDQUFDO1FBQ08sbURBQWMsR0FBdEI7WUFBQSxpQkFxQkM7WUFwQkcsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLDRCQUFjLENBQThCLElBQUksQ0FBQyxDQUFDO1lBQzdFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLHVCQUF1QixDQUFDO1lBQ3RELElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztZ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LENBQUM7UUF0RU0sa0NBQU8sR0FBRyxDQUFDLFFBQVEsRUFBRSxvQkFBb0IsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsc0JBQXNCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUF1RXJILGlDQUFDO0tBeEVELEFBd0VDLElBQUE7SUFFRCxjQUFHLENBQUMsVUFBVSxDQUFDLDRCQUE0QixFQUFFLDBCQUEwQixDQUFDLENBQUMiLCJmaWxlIjoibW9kdWxlL2Jhc2Vjb25maWcvcm1wZ2F0ZS9ybXBnYXRlLnBvcHVwTGFtcC5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9hcHAvbWFpbi5hcHBcIjtcclxuaW1wb3J0IHsgVHJlZURhdGFQYXJhbXMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RpcmVjdGl2ZS90cmVlL3RyZWUtcGFyYW1zXCI7XHJcbmltcG9ydCB7IFJtcEdhdGUgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2VudGl0eS9SbXBHYXRlJztcclxuaW1wb3J0IHsgUm1wR2F0ZUV4IH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvZW50aXR5L2V4L1JtcEdhdGVFeFwiO1xyXG5pbXBvcnQgeyBBcmVhRXggfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9lbnRpdHkvZXgvQXJlYUV4XCI7XHJcbmltcG9ydCB7IExhbXBFeCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvZW50aXR5L2V4L0xhbXBFeCc7XHJcbmltcG9ydCB7IElSbXBHYXRlU2VydmljZSB9IGZyb20gXCIuLi8uLi9jb21tb24vc2VydmljZXMvcm1wZ2F0ZS5zZXJ2aWNlXCI7XHJcbmltcG9ydCBcIi4uLy4uL2NvbW1vbi9kaXJlY3RpdmUvdHJlZS90cmVlLmRpcmVjdGl2ZS5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElUcmVlRGlyZWN0aXZlU2VydmljZSB9IGZyb20gXCIuLi8uLi9jb21tb24vZGlyZWN0aXZlL3RyZWUvdHJlZS5kaXJlY3RpdmUuc2VydmljZVwiO1xyXG5pbXBvcnQgeyBSbXBHYXRlQ2hhbmdlQXJlYUlETW9kZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYXJhbXMvUm1wR2F0ZVBhcmFtc1wiO1xyXG5pbXBvcnQgeyBSZXNwb25zZVJlc3VsdCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3BhcmFtcy9yZXN1bHQvUmVzcG9uc2VSZXN1bHRcIjtcclxuaW1wb3J0IHsgVHJlZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9lbnVtL1RyZWVUeXBlXCI7XHJcbmltcG9ydCB7IElDb25uZWN0VHJlZVNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3NlcnZpY2VzL2Nvbm5lY3RUcmVlLnNlcnZpY2VcIjtcclxuaW1wb3J0IFwiLi4vLi4vY29tbW9uL3NlcnZpY2VzL2Nvbm5lY3RUcmVlLnNlcnZpY2VcIjtcclxuXHJcbmRlY2xhcmUgbGV0IGFuZ3VsYXI6IGFueTtcclxuXHJcbmNsYXNzIFJtcEdhdGVQb3B1cExhbXBDb250cm9sbGVyIHtcclxuICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckc2NvcGUnLCAnY29ubmVjdFRyZWVTZXJ2aWNlJywgJyR0aW1lb3V0JywgJ3JtcGdhdGVTZXJ2aWNlJywgJ3RyZWVEaXJlY3RpdmVTZXJ2aWNlJywgJ2xheWVyJ107XHJcblxyXG4gICAgcmlnaHRTZWxlY3RUcmVlTm9kZUlkOiBzdHJpbmc7XHJcbiAgICByaWdodFRyZWVQYXJhbXM6IFRyZWVEYXRhUGFyYW1zPEFyZWFFeCB8IFJtcEdhdGVFeCB8IExhbXBFeD47XHJcbiAgICBkZXZpY2VEYXRhOiBSbXBHYXRlO1xyXG4gICAgSXNDaGVjazogQm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IGFueSxcclxuICAgICAgICBwcml2YXRlIGNvbm5lY3RUcmVlU2VydmljZTogSUNvbm5lY3RUcmVlU2VydmljZSxcclxuICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBhbnksXHJcbiAgICAgICAgcHJpdmF0ZSBybXBnYXRlU2VydmljZTogSVJtcEdhdGVTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgdHJlZVNlcnZpY2U6IElUcmVlRGlyZWN0aXZlU2VydmljZSxcclxuICAgICAgICBwcml2YXRlIGxheWVyOiBhbnlcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuZGV2aWNlRGF0YSA9IGFuZ3VsYXIuY29weSh0aGlzLiRzY29wZS5kZXZpY2VEYXRhKVxyXG4gICAgICAgIHRoaXMucmlnaHRTZWxlY3RUcmVlTm9kZUlkID0gbnVsbDtcclxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlRGF0YS5Kc29uVXNlckRhdGEubGFtcFBvc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXZpY2VEYXRhLkpzb25Vc2VyRGF0YS5sYW1wUG9zdCA9IHt9IGFzIExhbXBFeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0VHJlZVBhcmFtcygpO1xyXG4gICAgICAgIHRoaXMuZ2V0VHJlZURhdGFzKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGluaXRUcmVlUGFyYW1zKCkge1xyXG4gICAgICAgIHRoaXMucmlnaHRUcmVlUGFyYW1zID0gbmV3IFRyZWVEYXRhUGFyYW1zPEFyZWFFeCB8IFJtcEdhdGVFeCB8IExhbXBFeD4odHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5yaWdodFRyZWVQYXJhbXMudHJlZUlkID0gXCJSbXBnYXRlUG9wdXBSaWdodFRyZWVcIjtcclxuICAgICAgICB0aGlzLnJpZ2h0VHJlZVBhcmFtcy5pc1Nob3dJY29uID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJpZ2h0VHJlZVBhcmFtcy5pc1Nob3dMaW5lID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yaWdodFRyZWVQYXJhbXMuaXNTaW1wbGVEYXRhID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJpZ2h0VHJlZVBhcmFtcy5jaGVja0VuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmlnaHRUcmVlUGFyYW1zLmlzU2luZ2xlU2VsZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yaWdodFRyZWVQYXJhbXMuZWRpdEVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yaWdodFRyZWVQYXJhbXMuc2hvd1JlbW92ZUJ0biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmlnaHRUcmVlUGFyYW1zLnNob3dSZW5hbWVCdG4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJpZ2h0VHJlZVBhcmFtcy5vbkNsaWNrID0gKChldmVudDogRXZlbnQsIHRyZWVJZDogc3RyaW5nLCB0cmVlTm9kZTogQXJlYUV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0cmVlTm9kZS50cmVlVHlwZSA9PT0gXCJsYW1wXCIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBsYW1wUG9zdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBJRDogdHJlZU5vZGUuSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogdHJlZU5vZGUuTmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5Jc0NoZWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlRGF0YS5Kc29uVXNlckRhdGEubGFtcFBvc3QgPSBsYW1wUG9zdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRUcmVlRGF0YXMoKSB7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0VHJlZVNlcnZpY2UuZmluZExhbXBUcmVlV2l0aFJtcEdhdGUoKS50aGVuKChyZXM6IEFycmF5PEFyZWFFeCB8IFJtcEdhdGVFeCB8IExhbXBFeD4pID0+IHtcclxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0VHJlZVBhcmFtcy50cmVlRGF0YXMgPSByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2FuY2VsKGZsYWc/OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUuJGVtaXQoJ2RldmljZS5jbG9zZVBvcHVwJywgZmxhZyk7XHJcbiAgICB9XHJcbiAgICBzdWJtaXQoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuSXNDaGVjayl7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIubXNnKFwi5rKh5pyJ6YCJ5oup5Lu75L2V56uL5p2GXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbChmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtb2RlbHMgPSBbXSBhcyBBcnJheTxSbXBHYXRlQ2hhbmdlQXJlYUlETW9kZWw+O1xyXG4gICAgICAgIG1vZGVscy5wdXNoKHtpZDogdGhpcy5kZXZpY2VEYXRhLklELGxhbXBJZDogdGhpcy5kZXZpY2VEYXRhLkpzb25Vc2VyRGF0YS5sYW1wUG9zdC5JRCxkZXZpY2VSZUlkOnRoaXMuZGV2aWNlRGF0YS5Kc29uVXNlckRhdGEuZGV2aWNlUmVJZH0gYXMgUm1wR2F0ZUNoYW5nZUFyZWFJRE1vZGVsKTtcclxuICAgICAgICB0aGlzLnJtcGdhdGVTZXJ2aWNlLnVwZGF0ZVJtcEdhdGVMYW1wSUQobW9kZWxzKS50aGVuKChyZXM6IFJlc3BvbnNlUmVzdWx0PGJvb2xlYW4+KT0+e1xyXG4gICAgICAgICAgICBpZihyZXMuZGF0YSAmJiByZXMuY29kZSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIubXNnKFwi5pu05paw5oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXllci5tc2coXCLmm7TmlrDlpLHotKVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5hcHAuY29udHJvbGxlcihcImJhc2VDb25maWdSbXBnYXRlUG9wdXBMYW1wXCIsIFJtcEdhdGVQb3B1cExhbXBDb250cm9sbGVyKTsiXX0=
