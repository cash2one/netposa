define(["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var timeLength = (function () {
        function timeLength() {
        }
        return timeLength;
    }());
    exports.timeLength = timeLength;
    function getHours(num) {
        var time = {};
        var dt = new Date();
        var y = (dt.getFullYear()).toString();
        var m = (dt.getMonth() + 1).toString();
        var d = (dt.getDate()).toString();
        var hh = (dt.getHours()).toString();
        var mm = (dt.getMinutes()).toString();
        var ss = (dt.getSeconds()).toString();
        var tStart = y + "-" + m + "-" + d + " 00:00:00";
        m = parseInt(m) < 10 ? "0" + m : m;
        d = parseInt(d) < 10 ? "0" + d : d;
        hh = parseInt(hh) < 10 ? "0" + hh : hh;
        mm = parseInt(mm) < 10 ? "0" + mm : mm;
        ss = parseInt(ss) < 10 ? "0" + ss : ss;
        var startY, startM, startD, startH;
        var shh = dt.getHours() - num;
        if (shh >= 0) {
            startH = shh < 10 ? "0" + shh : shh.toString();
            startD = d;
            startM = m;
            startY = y;
        }
        else {
            shh = Math.abs(shh);
            var ddd = Math.floor(num / 24);
            ddd = ddd ? ddd : ddd + 1;
            startH = (24 * ddd - shh).toString();
            startD = (parseInt(d) - ddd).toString();
            if (parseInt(d) <= ddd) {
                startD = (parseInt(d) - ddd + 30).toString();
                startM = (parseInt(m) - 1).toString();
                startY = y;
                if (parseInt(m) - 1 <= 0) {
                    startM = (parseInt(m) - 1 + 12).toString();
                    startY = (parseInt(y) - 1).toString();
                }
            }
            else {
                startM = m;
                startY = y;
            }
        }
        startM = parseInt(startM) < 10 ? "0" + parseInt(startM) : startM;
        startD = parseInt(startD) < 10 ? "0" + parseInt(startD) : startD;
        startH = parseInt(startH) < 10 ? "0" + parseInt(startH) : startH;
        time.startTime = num ? startY + "-" + startM + "-" + startD + " " + startH + ":" + mm + ":" + ss : tStart;
        time.endTime = y + "-" + m + "-" + d + " " + hh + ":" + mm + ":" + ss;
        return time;
    }
    exports.getHours = getHours;
    exports.dataLists = {
        today: { key: 'today', value: getHours(0), text: '今天' },
        lastHour: { key: 'lasthour', value: getHours(1), text: '近1h' },
        lastFourHour: { key: 'lastFourHour', value: getHours(6), text: '近6h' },
        lastThreeDay: { key: 'lastThreeDay', value: getHours(12), text: '近12h' }
    };
    function getdataList() {
        var arr = [];
        for (var k in exports.dataLists) {
            arr.push({ key: exports.dataLists[k].key, value: exports.dataLists[k].value, text: exports.dataLists[k].text });
        }
        return arr;
    }
    exports.getdataList = getdataList;
    function ArrayUnique(arr) {
        var result = [], hash = {};
        for (var i = 0, elem = void 0; (elem = arr[i]) != null; i++) {
            if (!hash[elem]) {
                result.push(elem);
                hash[elem] = true;
            }
        }
        return result;
    }
    exports.ArrayUnique = ArrayUnique;
    var MacTrackIndexParam = (function () {
        function MacTrackIndexParam() {
            this.arrdeviceId = [];
        }
        return MacTrackIndexParam;
    }());
    exports.MacTrackIndexParam = MacTrackIndexParam;
    var singleMacDetailParam = (function () {
        function singleMacDetailParam() {
        }
        return singleMacDetailParam;
    }());
    exports.singleMacDetailParam = singleMacDetailParam;
    var macCrashRecordParam = (function () {
        function macCrashRecordParam() {
        }
        return macCrashRecordParam;
    }());
    exports.macCrashRecordParam = macCrashRecordParam;
    function getMacCrashData(mac, detail) {
        var macArr = [];
        var detailArr = [];
        for (var j = 0; j < detail; j++) {
            detailArr.push({
                ischeck: false,
                ip: Math.round(Math.random() * 100).toString(),
                macAddress: '127-234-' + Math.round(Math.random() * 100),
                collectTime: '2017-09-' + Math.round(Math.random() * 30),
                collectLocate: '关山大道太阳城'
            });
        }
        for (var i = 0; i < mac; i++) {
            macArr.push({
                macAddress: '127-234-' + Math.round(Math.random() * 100),
                fold: true,
                showDetail: detailArr
            });
        }
        return macArr;
    }
    exports.getMacCrashData = getMacCrashData;
    var OverlayName = (function () {
        function OverlayName() {
        }
        OverlayName.MapForResultLayer = 'MapForResultLayer';
        OverlayName.MapForResultGroup = 'MapForResultGroup';
        OverlayName.MapForAccpGroup = 'MapForAccpGroup';
        OverlayName.MapForTrackLineLayer = 'MapForTrackLineLayer';
        OverlayName.MapForResultLineGroup = 'MapForResultLineGroup';
        OverlayName.MapForAccpLineGroup = 'MapForAccpLineGroup';
        return OverlayName;
    }());
    exports.OverlayName = OverlayName;
    var MarkersIcon = (function () {
        function MarkersIcon() {
        }
        MarkersIcon.NormalBlueIcon = '/images/map/normal-blue.png';
        MarkersIcon.NormalGreenIcon = '/images/map/normal-green.png';
        MarkersIcon.HoverRedIcon = '/images/map/hover-marker.png';
        MarkersIcon.StartBlueIcon = '/images/map/start-blue.png';
        MarkersIcon.StartGreenIcon = '/images/map/start-green.png';
        MarkersIcon.EndIcon = '/images/map/end.png';
        return MarkersIcon;
    }());
    exports.MarkersIcon = MarkersIcon;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvSW50ZWxsaWdlbnRBbmFseXNpcy9NYWNUcmFjay9NYWNUcmFja0VudW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBQ0E7UUFBQTtRQUdBLENBQUM7UUFBRCxpQkFBQztJQUFELENBSEEsQUFHQyxJQUFBO0lBSFksZ0NBQVU7SUFLdkIsa0JBQXlCLEdBQVU7UUFDL0IsSUFBSSxJQUFJLEdBQUcsRUFBZ0IsQ0FBQztRQUM1QixJQUFJLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNsQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdEMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN0QyxJQUFJLE1BQU0sR0FBTSxDQUFDLFNBQUksQ0FBQyxTQUFJLENBQUMsY0FBVyxDQUFDO1FBQ3ZDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLENBQUcsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLENBQUcsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFDO1FBQzdCLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLEVBQUksQ0FBQSxDQUFDLENBQUEsRUFBRSxDQUFDO1FBQ2pDLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLEVBQUksQ0FBQSxDQUFDLENBQUEsRUFBRSxDQUFDO1FBQ2pDLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLEVBQUksQ0FBQSxDQUFDLENBQUEsRUFBRSxDQUFDO1FBQ2pDLElBQUksTUFBYSxFQUFDLE1BQWEsRUFBQyxNQUFhLEVBQUMsTUFBYSxDQUFDO1FBQzVELElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBQyxHQUFHLENBQUM7UUFDNUIsRUFBRSxDQUFBLENBQUMsR0FBRyxJQUFFLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDUCxNQUFNLEdBQUcsR0FBRyxHQUFDLEVBQUUsQ0FBQSxDQUFDLENBQUEsTUFBSSxHQUFLLENBQUEsQ0FBQyxDQUFBLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ1gsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNYLE1BQU0sR0FBRyxDQUFDLENBQUE7UUFDZCxDQUFDO1FBQUEsSUFBSSxDQUFBLENBQUM7WUFDRixHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNwQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBQyxFQUFFLENBQUMsQ0FBQztZQUM3QixHQUFHLEdBQUcsR0FBRyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUEsQ0FBQyxDQUFBLEdBQUcsR0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTSxHQUFHLENBQUMsRUFBRSxHQUFDLEdBQUcsR0FBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNsQyxNQUFNLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDdEMsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFFLEdBQUcsQ0FBQyxDQUFBLENBQUM7Z0JBQ2pCLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLEdBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3pDLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDcEMsTUFBTSxHQUFHLENBQUMsQ0FBQTtnQkFDVixFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFFLENBQUMsQ0FBQyxDQUFBLENBQUM7b0JBQ2pCLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQ3ZDLE1BQU0sR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtnQkFDdkMsQ0FBQztZQUNMLENBQUM7WUFBQSxJQUFJLENBQUEsQ0FBQztnQkFDRixNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUNYLE1BQU0sR0FBRyxDQUFDLENBQUE7WUFDZCxDQUFDO1FBQ0wsQ0FBQztRQUNELE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUMsRUFBRSxDQUFBLENBQUMsQ0FBQSxNQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUcsQ0FBQSxDQUFDLENBQUEsTUFBTSxDQUFDO1FBQzNELE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUMsRUFBRSxD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QUMvQyw2QkFBaUIsR0FBVyxtQkFBbUIsQ0FBQztRQUNoRCwyQkFBZSxHQUFXLGlCQUFpQixDQUFDO1FBQzVDLGdDQUFvQixHQUFVLHNCQUFzQixDQUFDO1FBQ3JELGlDQUFxQixHQUFVLHVCQUF1QixDQUFDO1FBQ3ZELCtCQUFtQixHQUFVLHFCQUFxQixDQUFDO1FBQzlELGtCQUFDO0tBUEQsQUFPQyxJQUFBO0lBUFksa0NBQVc7SUFTeEI7UUFBQTtRQU9BLENBQUM7UUFOVSwwQkFBYyxHQUFVLDZCQUE2QixDQUFDO1FBQ3RELDJCQUFlLEdBQVUsOEJBQThCLENBQUM7UUFDeEQsd0JBQVksR0FBVSw4QkFBOEIsQ0FBQztRQUNyRCx5QkFBYSxHQUFVLDRCQUE0QixDQUFDO1FBQ3BELDBCQUFjLEdBQVUsNkJBQTZCLENBQUM7UUFDdEQsbUJBQU8sR0FBVSxxQkFBcUIsQ0FBQTtRQUNqRCxrQkFBQztLQVBELEFBT0MsSUFBQTtJQVBZLGtDQUFXIiwiZmlsZSI6Im1vZHVsZS9JbnRlbGxpZ2VudEFuYWx5c2lzL01hY1RyYWNrL01hY1RyYWNrRW51bS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgY2xhc3MgdGltZUxlbmd0aHtcclxuICAgIHN0YXJ0VGltZTpzdHJpbmc7XHJcbiAgICBlbmRUaW1lOnN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEhvdXJzKG51bTpudW1iZXIpOnRpbWVMZW5ndGh7XHJcbiAgICBsZXQgdGltZSA9IHt9IGFzIHRpbWVMZW5ndGg7XHJcbiAgICBsZXQgZHQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgbGV0IHkgPSAoZHQuZ2V0RnVsbFllYXIoKSkudG9TdHJpbmcoKTtcclxuICAgIGxldCBtID0gKGR0LmdldE1vbnRoKCkrMSkudG9TdHJpbmcoKTtcclxuICAgIGxldCBkID0gKGR0LmdldERhdGUoKSkudG9TdHJpbmcoKTtcclxuICAgIGxldCBoaCA9IChkdC5nZXRIb3VycygpKS50b1N0cmluZygpO1xyXG4gICAgbGV0IG1tID0gKGR0LmdldE1pbnV0ZXMoKSkudG9TdHJpbmcoKTtcclxuICAgIGxldCBzcyA9IChkdC5nZXRTZWNvbmRzKCkpLnRvU3RyaW5nKCk7XHJcbiAgICBsZXQgdFN0YXJ0ID0gYCR7eX0tJHttfS0ke2R9IDAwOjAwOjAwYDtcclxuICAgIG0gPSBwYXJzZUludChtKTwxMD9gMCR7bX1gOm07XHJcbiAgICBkID0gcGFyc2VJbnQoZCk8MTA/YDAke2R9YDpkO1xyXG4gICAgaGggPSBwYXJzZUludChoaCk8MTA/YDAke2hofWA6aGg7XHJcbiAgICBtbSA9IHBhcnNlSW50KG1tKTwxMD9gMCR7bW19YDptbTtcclxuICAgIHNzID0gcGFyc2VJbnQoc3MpPDEwP2AwJHtzc31gOnNzO1xyXG4gICAgbGV0IHN0YXJ0WTpzdHJpbmcsc3RhcnRNOnN0cmluZyxzdGFydEQ6c3RyaW5nLHN0YXJ0SDpzdHJpbmc7XHJcbiAgICBsZXQgc2hoID0gZHQuZ2V0SG91cnMoKS1udW07XHJcbiAgICBpZihzaGg+PTApe1xyXG4gICAgICAgIHN0YXJ0SCA9IHNoaDwxMD9gMCR7c2hofWA6c2hoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgc3RhcnREID0gZDtcclxuICAgICAgICBzdGFydE0gPSBtO1xyXG4gICAgICAgIHN0YXJ0WSA9IHlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHNoaCA9IE1hdGguYWJzKHNoaCk7XHJcbiAgICAgICAgbGV0IGRkZCA9IE1hdGguZmxvb3IobnVtLzI0KTtcclxuICAgICAgICBkZGQgPSBkZGQ/ZGRkOmRkZCsxO1xyXG4gICAgICAgIHN0YXJ0SCA9ICgyNCpkZGQgLXNoaCkudG9TdHJpbmcoKTtcclxuICAgICAgICBzdGFydEQgPSAocGFyc2VJbnQoZCktZGRkKS50b1N0cmluZygpO1xyXG4gICAgICAgIGlmKHBhcnNlSW50KGQpPD1kZGQpe1xyXG4gICAgICAgICAgICBzdGFydEQgPSAocGFyc2VJbnQoZCktZGRkKzMwKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBzdGFydE0gPSAocGFyc2VJbnQobSktMSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgc3RhcnRZID0geVxyXG4gICAgICAgICAgICBpZihwYXJzZUludChtKS0xPD0wKXtcclxuICAgICAgICAgICAgICAgIHN0YXJ0TSA9IChwYXJzZUludChtKS0xKzEyKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgc3RhcnRZID0gKHBhcnNlSW50KHkpLTEpLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzdGFydE0gPSBtO1xyXG4gICAgICAgICAgICBzdGFydFkgPSB5XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRNID0gcGFyc2VJbnQoc3RhcnRNKTwxMD9gMCR7cGFyc2VJbnQoc3RhcnRNKX1gOnN0YXJ0TTtcclxuICAgIHN0YXJ0RCA9IHBhcnNlSW50KHN0YXJ0RCk8MTA/YDAke3BhcnNlSW50KHN0YXJ0RCl9YDpzdGFydEQ7XHJcbiAgICBzdGFydEggPSBwYXJzZUludChzdGFydEgpPDEwP2AwJHtwYXJzZUludChzdGFydEgpfWA6c3RhcnRIO1xyXG5cclxuICAgIHRpbWUuc3RhcnRUaW1lID0gbnVtID9gJHtzdGFydFl9LSR7c3RhcnRNfS0ke3N0YXJ0RH0gJHtzdGFydEh9OiR7bW19OiR7c3N9YDp0U3RhcnQ7XHJcbiAgICB0aW1lLmVuZFRpbWUgPSBgJHt5fS0ke219LSR7ZH0gJHtoaH06JHttbX06JHtzc31gO1xyXG4gICAgcmV0dXJuIHRpbWVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBkYXRhPFQ+e1xyXG4gICAga2V5OnN0cmluZztcclxuICAgIHZhbHVlOlQ7XHJcbiAgICB0ZXh0OnN0cmluZ1xyXG59XHJcbiBpbnRlcmZhY2UgZGF0YUV4e1xyXG4gICAgIGxhc3RIb3VyOmRhdGE8dGltZUxlbmd0aD47XHJcbiAgICAgbGFzdEZvdXJIb3VyOmRhdGE8dGltZUxlbmd0aD47XHJcbiAgICAgdG9kYXk6ZGF0YTx0aW1lTGVuZ3RoPjtcclxuICAgICBsYXN0VGhyZWVEYXk6ZGF0YTx0aW1lTGVuZ3RoPjtcclxuIH1cclxuXHJcbmV4cG9ydCBjb25zdCBkYXRhTGlzdHM6IHsgW2tleTpzdHJpbmddIDogZGF0YTx0aW1lTGVuZ3RoPn0gJiBkYXRhRXggPSB7XHJcbiAgICB0b2RheTp7a2V5Oid0b2RheScsdmFsdWU6Z2V0SG91cnMoMCksdGV4dDon5LuK5aSpJ30sXHJcbiAgICBsYXN0SG91cjp7a2V5OidsYXN0aG91cicsdmFsdWU6Z2V0SG91cnMoMSksdGV4dDon6L+RMWgnfSxcclxuICAgIGxhc3RGb3VySG91cjp7a2V5OidsYXN0Rm91ckhvdXInLHZhbHVlOmdldEhvdXJzKDYpLHRleHQ6J+i/kTZoJ30sXHJcbiAgICBsYXN0VGhyZWVEYXk6e2tleTonbGFzdFRocmVlRGF5Jyx2YWx1ZTpnZXRIb3VycygxMiksdGV4dDon6L+RMTJoJ31cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRkYXRhTGlzdCgpOkFycmF5PGRhdGE8dGltZUxlbmd0aD4+e1xyXG4gICAgbGV0IGFyciA9IFtdIGFzIEFycmF5PGRhdGE8dGltZUxlbmd0aD4+O1xyXG5cclxuICAgIGZvcihsZXQgayBpbiBkYXRhTGlzdHMpe1xyXG4gICAgICAgIGFyci5wdXNoKHtrZXk6ZGF0YUxpc3RzW2tdLmtleSx2YWx1ZTpkYXRhTGlzdHNba10udmFsdWUsdGV4dDpkYXRhTGlzdHNba10udGV4dH0pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJyO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBBcnJheVVuaXF1ZShhcnI6QXJyYXk8YW55Pikge1xyXG4gICAgbGV0IHJlc3VsdCA9IFtdIGFzIEFycmF5PGFueT4sIGhhc2ggPSB7fSBhcyBhbnk7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgZWxlbTsgKGVsZW0gPSBhcnJbaV0pICE9IG51bGw7IGkrKykge1xyXG4gICAgICAgIGlmICghaGFzaFtlbGVtXSkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChlbGVtKTtcclxuICAgICAgICAgICAgaGFzaFtlbGVtXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1hY1RyYWNrSW5kZXhQYXJhbXtcclxuICAgIG1hY0FkZHJlc3M6c3RyaW5nO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgc3RhcnRUaW1lOnN0cmluZztcclxuICAgIGVuZFRpbWU6c3RyaW5nO1xyXG4gICAgYXJyZGV2aWNlSWQ6QXJyYXk8c3RyaW5nPiA9IFtdO1xyXG59XHJcblxyXG4vL+WNleadoU1hY+WcsOWdgOivpuaDhVxyXG5leHBvcnQgY2xhc3Mgc2luZ2xlTWFjRGV0YWlsUGFyYW17XHJcbiAgICBpcDpzdHJpbmc7XHJcbiAgICBtYWNBZGRyZXNzOnN0cmluZztcclxuICAgIGNvbGxlY3RUaW1lOnN0cmluZztcclxuICAgIGNvbGxlY3RMb2NhdGU6c3RyaW5nO1xyXG4gICAgaXNjaGVjazpib29sZWFuO1xyXG59XHJcbi8v5p+l55yL6K+m5oOF6K6w5b2VXHJcbmV4cG9ydCBjbGFzcyBtYWNDcmFzaFJlY29yZFBhcmFte1xyXG4gICAgbWFjQWRkcmVzczpzdHJpbmc7XHJcbiAgICBmb2xkOmJvb2xlYW47XHJcbiAgICBzaG93RGV0YWlsOkFycmF5PHNpbmdsZU1hY0RldGFpbFBhcmFtPlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFjQ3Jhc2hEYXRhKG1hYzpudW1iZXIsZGV0YWlsOm51bWJlcik6QXJyYXk8bWFjQ3Jhc2hSZWNvcmRQYXJhbT57XHJcbiAgICBsZXQgbWFjQXJyID0gW10gYXMgQXJyYXk8bWFjQ3Jhc2hSZWNvcmRQYXJhbT47XHJcbiAgICBsZXQgZGV0YWlsQXJyID0gW10gYXMgQXJyYXk8c2luZ2xlTWFjRGV0YWlsUGFyYW0+O1xyXG4gICAgZm9yKGxldCBqPTA7ajxkZXRhaWw7aisrKXtcclxuICAgICAgICBkZXRhaWxBcnIucHVzaCh7XHJcbiAgICAgICAgICAgIGlzY2hlY2s6ZmFsc2UsXHJcbiAgICAgICAgICAgIGlwOk1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoxMDApLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIG1hY0FkZHJlc3M6JzEyNy0yMzQtJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoxMDApLFxyXG4gICAgICAgICAgICBjb2xsZWN0VGltZTonMjAxNy0wOS0nKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMzApLFxyXG4gICAgICAgICAgICBjb2xsZWN0TG9jYXRlOiflhbPlsbHlpKfpgZPlpKrpmLPln44nXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGZvcihsZXQgaT0wO2k8bWFjO2krKyl7XHJcbiAgICAgICAgbWFjQXJyLnB1c2goe1xyXG4gICAgICAgICAgICBtYWNBZGRyZXNzOicxMjctMjM0LScrTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjEwMCksXHJcbiAgICAgICAgICAgIGZvbGQ6dHJ1ZSxcclxuICAgICAgICAgICAgc2hvd0RldGFpbDpkZXRhaWxBcnJcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hY0FyclxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3ZlcmxheU5hbWV7XHJcbiAgICBzdGF0aWMgTWFwRm9yUmVzdWx0TGF5ZXI6c3RyaW5nID0gJ01hcEZvclJlc3VsdExheWVyJztcclxuICAgIHN0YXRpYyBNYXBGb3JSZXN1bHRHcm91cDogc3RyaW5nID0gJ01hcEZvclJlc3VsdEdyb3VwJztcclxuICAgIHN0YXRpYyBNYXBGb3JBY2NwR3JvdXA6IHN0cmluZyA9ICdNYXBGb3JBY2NwR3JvdXAnO1xyXG4gICAgc3RhdGljIE1hcEZvclRyYWNrTGluZUxheWVyOnN0cmluZyA9ICdNYXBGb3JUcmFja0xpbmVMYXllcic7XHJcbiAgICBzdGF0aWMgTWFwRm9yUmVzdWx0TGluZUdyb3VwOnN0cmluZyA9ICdNYXBGb3JSZXN1bHRMaW5lR3JvdXAnO1xyXG4gICAgc3RhdGljIE1hcEZvckFjY3BMaW5lR3JvdXA6c3RyaW5nID0gJ01hcEZvckFjY3BMaW5lR3JvdXAnO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWFya2Vyc0ljb24ge1xyXG4gICAgc3RhdGljIE5vcm1hbEJsdWVJY29uOnN0cmluZyA9ICcvaW1hZ2VzL21hcC9ub3JtYWwtYmx1ZS5wbmcnO1xyXG4gICAgc3RhdGljIE5vcm1hbEdyZWVuSWNvbjpzdHJpbmcgPSAnL2ltYWdlcy9tYXAvbm9ybWFsLWdyZWVuLnBuZyc7XHJcbiAgICBzdGF0aWMgSG92ZXJSZWRJY29uOnN0cmluZyA9ICcvaW1hZ2VzL21hcC9ob3Zlci1tYXJrZXIucG5nJztcclxuICAgIHN0YXRpYyBTdGFydEJsdWVJY29uOnN0cmluZyA9ICcvaW1hZ2VzL21hcC9zdGFydC1ibHVlLnBuZyc7XHJcbiAgICBzdGF0aWMgU3RhcnRHcmVlbkljb246c3RyaW5nID0gJy9pbWFnZXMvbWFwL3N0YXJ0LWdyZWVuLnBuZyc7XHJcbiAgICBzdGF0aWMgRW5kSWNvbjpzdHJpbmcgPSAnL2ltYWdlcy9tYXAvZW5kLnBuZydcclxufVxyXG4iXX0=
