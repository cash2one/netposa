define(["require", "exports", "../app/main.app", "../../../core/server/enum/SearchType"], function (require, exports, main_app_1, SearchType_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var CasCadeOrderType = (function () {
        function CasCadeOrderType() {
        }
        CasCadeOrderType.ASC = "ASC";
        CasCadeOrderType.DESC = "DESC";
        return CasCadeOrderType;
    }());
    var CasCadeUrl = (function () {
        function CasCadeUrl() {
        }
        CasCadeUrl.FDS = "/fds/baseconfig/findCascadeList";
        CasCadeUrl.BCS = "/bcs/baseconfig/findCascadeList";
        CasCadeUrl.PDP = "/pdp/baseconfig/findCascadeList";
        CasCadeUrl.DB = '/db/baseconfig/findCascadeList';
        return CasCadeUrl;
    }());
    var CasCadeSearchParams = (function () {
        function CasCadeSearchParams() {
        }
        return CasCadeSearchParams;
    }());
    exports.CasCadeSearchParams = CasCadeSearchParams;
    var CasCadeService = (function () {
        function CasCadeService($http) {
            this.$http = $http;
        }
        CasCadeService.prototype.findAllAreaList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Area.value);
        };
        CasCadeService.prototype.findAllUnitList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Unit.value);
        };
        CasCadeService.prototype.findAllCameraList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Camera.value);
        };
        CasCadeService.prototype.findAllUserList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.User.value);
        };
        CasCadeService.prototype.findAllBusinessLibList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.BusinessLib.value);
        };
        CasCadeService.prototype.findAllVideoServerList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.VideoServer.value);
        };
        CasCadeService.prototype.findAllIvsServerList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.IvsServer.value);
        };
        CasCadeService.prototype.findAreaList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Area.value, true);
        };
        CasCadeService.prototype.findRfidList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Area.value, true);
        };
        CasCadeService.prototype.findUnitList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Unit.value, true);
        };
        CasCadeService.prototype.findCameraList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Camera.value, true);
        };
        CasCadeService.prototype.findRmpGateList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.RmapGate.value, true);
        };
        CasCadeService.prototype.findWifiList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.Wifi.value, true);
        };
        CasCadeService.prototype.findElectronicFenceList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.ElectronicFence.value, true);
        };
        CasCadeService.prototype.findUserList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.User.value, true);
        };
        CasCadeService.prototype.findBusinessLibList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.BusinessLib.value, true);
        };
        CasCadeService.prototype.findVideoServerList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.VideoServer.value, true);
        };
        CasCadeService.prototype.findIvsServerList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.IvsServer.value, true);
        };
        CasCadeService.prototype.findIodServerList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.IodServer.value, true);
        };
        CasCadeService.prototype.findLampList = function (searchParams) {
            return this.findListByPage(CasCadeUrl.DB, searchParams, SearchType_1.SearchType.LampServer.value, true);
        };
        CasCadeService.prototype.findListByPage = function (url, searchParams, searchType, isPage) {
            searchParams = searchParams || {};
            var model = {};
            model.name = searchParams.name;
            model.code = searchParams.code;
            model.id = searchParams.areaId;
            model.isPage = !!isPage;
            if (model.isPage) {
                model.pageIndex = searchParams.pageIndex || 1;
                model.pageSize = searchParams.pageSize || 10;
            }
            model.orderType = searchParams.isAsc ? CasCadeOrderType.ASC : CasCadeOrderType.DESC;
            model.orderField = searchParams.orderField;
            model.searchType = searchType;
            if (searchType === 'User') {
                model.areaIDName = 'PersonID';
                model.roleId = searchParams.roleId;
                model.unitId = searchParams.unitId;
            }
            if (searchParams.type) {
                model.type = searchParams.type;
            }
            model.isPage = true;
            return this.$http({
                method: "POST",
                url: url,
                headers: { 'Content-Type': 'application/json;charset=UTF-8' },
                data: model
            });
        };
        CasCadeService.$inject = ['$http', 'notifyFactory'];
        return CasCadeService;
    }());
    exports.CasCadeService = CasCadeService;
    main_app_1.app.service("casCadeService", CasCadeService);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvY29tbW9uL3NlcnZpY2VzL2Nhc2VjYWRlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBaUNBO1FBQUE7UUFHQSxDQUFDO1FBRlUsb0JBQUcsR0FBRyxLQUFLLENBQUM7UUFDWixxQkFBSSxHQUFHLE1BQU0sQ0FBQztRQUN6Qix1QkFBQztLQUhELEFBR0MsSUFBQTtJQUVEO1FBQUE7UUFLQSxDQUFDO1FBSlUsY0FBRyxHQUFHLGlDQUFpQyxDQUFDO1FBQ3hDLGNBQUcsR0FBRyxpQ0FBaUMsQ0FBQztRQUN4QyxjQUFHLEdBQUcsaUNBQWlDLENBQUM7UUFDeEMsYUFBRSxHQUFHLGdDQUFnQyxDQUFDO1FBQ2pELGlCQUFDO0tBTEQsQUFLQyxJQUFBO0lBRUQ7UUFBQTtRQVlBLENBQUM7UUFBRCwwQkFBQztJQUFELENBWkEsQUFZQyxJQUFBO0lBWlksa0RBQW1CO0lBY2hDO1FBNkhJLHdCQUFvQixLQUFVO1lBQVYsVUFBSyxHQUFMLEtBQUssQ0FBSztRQUM5QixDQUFDO1FBMUhELHdDQUFlLEdBQWYsVUFBZ0IsWUFBaUM7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsdUJBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkYsQ0FBQztRQUVELHdDQUFlLEdBQWYsVUFBZ0IsWUFBaUM7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsdUJBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkYsQ0FBQztRQUVELDBDQUFpQixHQUFqQixVQUFrQixZQUFpQztZQUMvQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRSx1QkFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNy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LE1BQU0sRUFBRSxNQUFNO2dCQUNkLEdBQUcsRUFBRSxHQUFHO2dCQUNSLE9BQU8sRUFBRSxFQUFDLGNBQWMsRUFBQyxnQ0FBZ0MsRUFBQztnQkFDMUQsSUFBSSxFQUFFLEtBQUs7YUFDZCxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRU0sc0JBQU8sR0FBa0IsQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFNL0QscUJBQUM7S0FoSUQsQUFnSUMsSUFBQTtJQWhJWSx3Q0FBYztJQWtJM0IsY0FBRyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQyIsImZpbGUiOiJtb2R1bGUvY29tbW9uL3NlcnZpY2VzL2Nhc2VjYWRlLnNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2FwcH0gZnJvbSBcIi4uL2FwcC9tYWluLmFwcFwiO1xyXG5pbXBvcnQge1Jlc3BvbnNlUmVzdWx0fSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYXJhbXMvcmVzdWx0L1Jlc3BvbnNlUmVzdWx0XCI7XHJcbmltcG9ydCB7U2VhcmNoQ2FzY2FkZU1vZGVsfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9zZXJ2ZXIvU2VhcmNoQ2FzY2FkZU1vZGVsXCI7XHJcbmltcG9ydCB7IFNlYXJjaFR5cGUgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3NlcnZlci9lbnVtL1NlYXJjaFR5cGUnO1xyXG5cclxuZGVjbGFyZSB2YXIgJDphbnk7XHJcbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGRlbGwgb24gMjAxNy81LzE1LlxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhc0NhZGVTZXJ2aWNlIHtcclxuICAgIGZpbmRBcmVhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZFJmaWRMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kTGFtcExpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PjtcclxuICAgIGZpbmRVbml0TGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZENhbWVyYUxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PjtcclxuICAgIGZpbmRSbXBHYXRlTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZFdpZmlMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kRWxlY3Ryb25pY0ZlbmNlTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZFVzZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kQnVzaW5lc3NMaWJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kVmlkZW9TZXJ2ZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kSXZzU2VydmVyTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZElvZFNlcnZlckxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PjtcclxuICAgIGZpbmRBbGxBcmVhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZEFsbFVuaXRMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kQWxsQ2FtZXJhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG4gICAgZmluZEFsbFVzZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kQWxsQnVzaW5lc3NMaWJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kQWxsVmlkZW9TZXJ2ZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj47XHJcbiAgICBmaW5kQWxsSXZzU2VydmVyTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+O1xyXG59XHJcblxyXG5jbGFzcyBDYXNDYWRlT3JkZXJUeXBlIHtcclxuICAgIHN0YXRpYyBBU0MgPSBcIkFTQ1wiO1xyXG4gICAgc3RhdGljIERFU0MgPSBcIkRFU0NcIjtcclxufVxyXG5cclxuY2xhc3MgQ2FzQ2FkZVVybCB7XHJcbiAgICBzdGF0aWMgRkRTID0gXCIvZmRzL2Jhc2Vjb25maWcvZmluZENhc2NhZGVMaXN0XCI7XHJcbiAgICBzdGF0aWMgQkNTID0gXCIvYmNzL2Jhc2Vjb25maWcvZmluZENhc2NhZGVMaXN0XCI7XHJcbiAgICBzdGF0aWMgUERQID0gXCIvcGRwL2Jhc2Vjb25maWcvZmluZENhc2NhZGVMaXN0XCI7IC8vIG5ldyA7XHJcbiAgICBzdGF0aWMgREIgPSAnL2RiL2Jhc2Vjb25maWcvZmluZENhc2NhZGVMaXN0JztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhc0NhZGVTZWFyY2hQYXJhbXMge1xyXG4gICAgYXJlYUlkOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBvcmRlckZpZWxkOiBzdHJpbmc7XHJcbiAgICBpc0FzYzogYm9vbGVhbjtcclxuICAgIHBhZ2VJbmRleDogbnVtYmVyO1xyXG4gICAgcGFnZVNpemU6IG51bWJlcjtcclxuICAgIGNvZGU6c3RyaW5nO1xyXG4gICAgdHlwZTpzdHJpbmc7XHJcbiAgICAvKuS6uuWRmOWIl+ihqOafpeivoueUqOWIsCovXHJcbiAgICByb2xlSWQ6c3RyaW5nO1xyXG4gICAgdW5pdElkOnN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhc0NhZGVTZXJ2aWNlIGltcGxlbWVudHMgSUNhc0NhZGVTZXJ2aWNlIHtcclxuXHJcbiAgICBwcml2YXRlIG5vdGlmeUZ1bmM6IChyZXM6IFJlc3BvbnNlUmVzdWx0PGFueT4pPT5SZXNwb25zZVJlc3VsdDxhbnk+O1xyXG5cclxuICAgIGZpbmRBbGxBcmVhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuQXJlYS52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZEFsbFVuaXRMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5Vbml0LnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kQWxsQ2FtZXJhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuQ2FtZXJhLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kQWxsVXNlckxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLlVzZXIudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRBbGxCdXNpbmVzc0xpYkxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLkJ1c2luZXNzTGliLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kQWxsVmlkZW9TZXJ2ZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5WaWRlb1NlcnZlci52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZEFsbEl2c1NlcnZlckxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLkl2c1NlcnZlci52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZEFyZWFMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5BcmVhLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY29weSBhcmVhIHdhaXQgZm9yIGVkaXRcclxuICAgICAqIEBwYXJhbSBzZWFyY2hQYXJhbXMgXHJcbiAgICAgKi9cclxuICAgIGZpbmRSZmlkTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuQXJlYS52YWx1ZSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZFVuaXRMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5Vbml0LnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kQ2FtZXJhTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuQ2FtZXJhLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kUm1wR2F0ZUxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLlJtYXBHYXRlLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kV2lmaUxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLldpZmkudmFsdWUsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRFbGVjdHJvbmljRmVuY2VMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5FbGVjdHJvbmljRmVuY2UudmFsdWUsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRVc2VyTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuVXNlci52YWx1ZSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZEJ1c2luZXNzTGliTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuQnVzaW5lc3NMaWIudmFsdWUsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRWaWRlb1NlcnZlckxpc3Qoc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxSZXNwb25zZVJlc3VsdDxhbnk+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZExpc3RCeVBhZ2UoQ2FzQ2FkZVVybC5EQiwgc2VhcmNoUGFyYW1zLCBTZWFyY2hUeXBlLlZpZGVvU2VydmVyLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kSXZzU2VydmVyTGlzdChzZWFyY2hQYXJhbXM6IENhc0NhZGVTZWFyY2hQYXJhbXMpOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGlzdEJ5UGFnZShDYXNDYWRlVXJsLkRCLCBzZWFyY2hQYXJhbXMsIFNlYXJjaFR5cGUuSXZzU2VydmVyLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGZpbmRJb2RTZXJ2ZXJMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5Jb2RTZXJ2ZXIudmFsdWUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZmluZExhbXBMaXN0KHNlYXJjaFBhcmFtczogQ2FzQ2FkZVNlYXJjaFBhcmFtcyk6IFByb21pc2U8UmVzcG9uc2VSZXN1bHQ8YW55Pj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRMaXN0QnlQYWdlKENhc0NhZGVVcmwuREIsIHNlYXJjaFBhcmFtcywgU2VhcmNoVHlwZS5MYW1wU2VydmVyLnZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8vIHt2YWx1ZTogJ0VsZWN0cm9uaWNGZW5jZScsIHRleHQ6J+eUteWtkOWbtOagjyd9LFxyXG4gICAgcHJpdmF0ZSBmaW5kTGlzdEJ5UGFnZSh1cmw6IHN0cmluZywgc2VhcmNoUGFyYW1zOiBDYXNDYWRlU2VhcmNoUGFyYW1zLCBzZWFyY2hUeXBlOiBzdHJpbmcsIGlzUGFnZT86IGJvb2xlYW4pOiBQcm9taXNlPFJlc3BvbnNlUmVzdWx0PGFueT4+IHtcclxuICAgICAgICBzZWFyY2hQYXJhbXMgPSBzZWFyY2hQYXJhbXMgfHwge30gYXMgQ2FzQ2FkZVNlYXJjaFBhcmFtcztcclxuICAgICAgICBsZXQgbW9kZWwgPSB7fSBhcyBTZWFyY2hDYXNjYWRlTW9kZWw7XHJcbiAgICAgICAgbW9kZWwubmFtZSA9IHNlYXJjaFBhcmFtcy5uYW1lO1xyXG4gICAgICAgIG1vZGVsLmNvZGUgPSBzZWFyY2hQYXJhbXMuY29kZTtcclxuICAgICAgICBtb2RlbC5pZCA9IHNlYXJjaFBhcmFtcy5hcmVhSWQ7XHJcblxyXG4gICAgICAgIG1vZGVsLmlzUGFnZSA9ICEhaXNQYWdlO1xyXG4gICAgICAgIGlmKG1vZGVsLmlzUGFnZSl7XHJcbiAgICAgICAgICAgIG1vZGVsLnBhZ2VJbmRleCA9IHNlYXJjaFBhcmFtcy5wYWdlSW5kZXggfHwgMTtcclxuICAgICAgICAgICAgbW9kZWwucGFnZVNpemUgPSBzZWFyY2hQYXJhbXMucGFnZVNpemUgfHwgMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGVsLm9yZGVyVHlwZSA9IHNlYXJjaFBhcmFtcy5pc0FzYyA/IENhc0NhZGVPcmRlclR5cGUuQVNDIDogQ2FzQ2FkZU9yZGVyVHlwZS5ERVNDO1xyXG4gICAgICAgIG1vZGVsLm9yZGVyRmllbGQgPSBzZWFyY2hQYXJhbXMub3JkZXJGaWVsZDtcclxuICAgICAgICBtb2RlbC5zZWFyY2hUeXBlID0gc2VhcmNoVHlwZTtcclxuICAgXHJcbiAgICAgICAgaWYoc2VhcmNoVHlwZSA9PT0gJ1VzZXInKXtcclxuICAgICAgICAgICAgbW9kZWwuYXJlYUlETmFtZSA9ICdQZXJzb25JRCc7XHJcbiAgICAgICAgICAgIG1vZGVsLnJvbGVJZCA9IHNlYXJjaFBhcmFtcy5yb2xlSWQ7XHJcbiAgICAgICAgICAgIG1vZGVsLnVuaXRJZCA9IHNlYXJjaFBhcmFtcy51bml0SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHNlYXJjaFBhcmFtcy50eXBlKXtcclxuICAgICAgICAgICAgbW9kZWwudHlwZSA9IHNlYXJjaFBhcmFtcy50eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb2RlbC5pc1BhZ2UgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy4kaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCd9LFxyXG4gICAgICAgICAgICBkYXRhOiBtb2RlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyAkaW5qZWN0OiBBcnJheTxzdHJpbmc+ID0gWyckaHR0cCcsICdub3RpZnlGYWN0b3J5J107XHJcblxyXG4gICAgLy8gVE9ETyDov5nph4zlsIZub3RpZnlGYWN0b3J55pS+5Zyo6L+Z6YeM6LCD55SoLCDnnIHlvpfmr4/kuKrkuJrliqHmlrnms5Xpg73ljrvmiafooYwsIOWmguaenOi/meenjeaWueW8j+S4jeihjOWGjeaUuVxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSAkaHR0cDogYW55KSB7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5hcHAuc2VydmljZShcImNhc0NhZGVTZXJ2aWNlXCIsIENhc0NhZGVTZXJ2aWNlKTsiXX0=
