define(["require", "exports", "angular"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var IAreaAndPosition = (function () {
        function IAreaAndPosition() {
        }
        return IAreaAndPosition;
    }());
    exports.IAreaAndPosition = IAreaAndPosition;
    var layerOpenParams = (function () {
        function layerOpenParams() {
        }
        return layerOpenParams;
    }());
    exports.layerOpenParams = layerOpenParams;
    function MylayerFactory($rootScope, $compile, $timeout, $q, $http) {
        var _this = this;
        _this.options = {};
        _this.open = function (options) {
            var ele = document.getElementById("mylayer" + options.ID);
            if (ele !== null) {
                console.error("LayerID:" + options.ID + "\u91CD\u590D");
                document.body.removeChild(ele);
                ele = null;
            }
            var left = options.AreaAndPosition.left || 0;
            var top = options.AreaAndPosition.top || 0;
            var width = options.AreaAndPosition.width || 100;
            var height = options.AreaAndPosition.height || 100;
            var zIndex = options.AreaAndPosition.zIndex || 999;
            var injectScope = options.scope || $rootScope.$new();
            var $body = $('body');
            $body.append("\n            <div id=\"mylayer" + options.ID + "\" style=\"display:none;position: absolute;z-index:999\">\n                <!--<iframe class='f-abs u-iframe-layer' style=\"position: absolute; width: 100%; height: 100%; z-index:0;top: 0;left: 0;\"></iframe>-->\n                <div class=\"mylayer-content\">" + options.content + "</div>\n            </div>");
            $body.find("#mylayer" + options.ID).css({
                left: left,
                top: top,
                width: width,
                height: height,
                opacity: 1,
                zIndex: zIndex
            });
            var $content = $body.find("#mylayer" + options.ID);
            var _domStr = $compile($content[0].outerHTML)(injectScope);
            $content.replaceWith(_domStr);
            injectScope.$on("$destroy", function () {
                _domStr.remove();
                _domStr = null;
                injectScope = null;
            });
            $("#mylayer" + options.ID).fadeIn(500).find('.mylayer-close').on('click', function () {
                _this.close(options.ID);
            });
            _this.options = options;
        };
        _this.close = function (ID) {
            if (_this.options.end) {
                _this.options.end();
            }
            $("#mylayer" + ID).fadeOut(200, function () {
                $(this).remove();
            });
        };
        _this.resize = function (params, ID) {
            var left = params.left || _this.options.left;
            var top = params.top || _this.options.top;
            var width = params.width || _this.options.width;
            var height = params.height || _this.options.height;
            var $content = $("#mylayer" + ID);
            $content.animate({
                left: left,
                top: top,
                width: width,
                height: height
            }, 500);
        };
        _this.destroy = function () {
            var eles = $('body').find('.mylayer-content');
            eles.each(function (item) {
                $(this).parent().remove();
            });
        };
        return _this;
    }
    angular
        .module('ng-mylayer', [])
        .factory('mylayer', MylayerFactory);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvY29tbW9uL2ZhY3RvcnkvbXlsYXllci5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztJQUVBO1FBQUE7UUFNQSxDQUFDO1FBQUQsdUJBQUM7SUFBRCxDQU5BLEFBTUMsSUFBQTtJQU5ZLDRDQUFnQjtJQVE3QjtRQUFBO1FBTUEsQ0FBQztRQUFELHNCQUFDO0lBQUQsQ0FOQSxBQU1DLElBQUE7SUFOWSwwQ0FBZTtJQVE1Qix3QkFBd0IsVUFBZSxFQUFFLFFBQWEsRUFBRSxRQUFhLEVBQUUsRUFBTyxFQUFFLEtBQVU7UUFDdEYsSUFBSSxLQUFLLEdBQUcsSUFBVyxDQUFDO1FBQ3hCLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBcUIsQ0FBQztRQUN0QyxLQUFLLENBQUMsSUFBSSxHQUFHLFVBQUMsT0FBd0I7WUFDbEMsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFVLE9BQU8sQ0FBQyxFQUFJLENBQUMsQ0FBQztZQUUxRCxFQUFFLENBQUEsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUEsQ0FBQztnQkFDYixPQUFPLENBQUMsS0FBSyxDQUFDLGFBQVcsT0FBTyxDQUFDLEVBQUUsaUJBQUksQ0FBQyxDQUFDO2dCQUN6QyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDL0IsR0FBRyxHQUFHLElBQUksQ0FBQztZQUNmLENBQUM7WUFFRCxJQUFJLElBQUksR0FBVyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7WUFDckQsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQzNDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxJQUFJLEdBQUcsQ0FBQztZQUNqRCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLE1BQU0sSUFBSSxHQUFHLENB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LEtBQUs7Z0JBQ1osTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLENBQUMsQ0FBQztRQUNGLEtBQUssQ0FBQyxPQUFPLEdBQUc7WUFDWixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFTLElBQVk7Z0JBQzNCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUM5QixDQUFDLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQztRQUNGLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE9BQU87U0FDRixNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztTQUN4QixPQUFPLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDIiwiZmlsZSI6Im1vZHVsZS9jb21tb24vZmFjdG9yeS9teWxheWVyLmZhY3RvcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2FuZ3VsYXInXHJcbmRlY2xhcmUgbGV0IGFuZ3VsYXI6IGFueSwgJDogYW55O1xyXG5leHBvcnQgY2xhc3MgSUFyZWFBbmRQb3NpdGlvbiB7XHJcbiAgICBsZWZ0OiBudW1iZXI7XHJcbiAgICB0b3A6IG51bWJlcjtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIHpJbmRleDpudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBsYXllck9wZW5QYXJhbXMge1xyXG4gICAgY29udGVudDogc3RyaW5nO1xyXG4gICAgc2NvcGU/OiBhbnk7XHJcbiAgICBBcmVhQW5kUG9zaXRpb24/OiBJQXJlYUFuZFBvc2l0aW9uO1xyXG4gICAgZW5kPzogRnVuY3Rpb247XHJcbiAgICBJRDpzdHJpbmc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE15bGF5ZXJGYWN0b3J5KCRyb290U2NvcGU6IGFueSwgJGNvbXBpbGU6IGFueSwgJHRpbWVvdXQ6IGFueSwgJHE6IGFueSwgJGh0dHA6IGFueSkge1xyXG4gICAgbGV0IF90aGlzID0gdGhpcyBhcyBhbnk7XHJcbiAgICBfdGhpcy5vcHRpb25zID0ge30gYXMgbGF5ZXJPcGVuUGFyYW1zO1xyXG4gICAgX3RoaXMub3BlbiA9IChvcHRpb25zOiBsYXllck9wZW5QYXJhbXMpPT57XHJcbiAgICAgICAgbGV0IGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBteWxheWVyJHtvcHRpb25zLklEfWApO1xyXG5cclxuICAgICAgICBpZihlbGUgIT09IG51bGwpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMYXllcklEOiR7b3B0aW9ucy5JRH3ph43lpI1gKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGUpO1xyXG4gICAgICAgICAgICBlbGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IG9wdGlvbnMuQXJlYUFuZFBvc2l0aW9uLmxlZnQgfHwgMDtcclxuICAgICAgICBsZXQgdG9wID0gb3B0aW9ucy5BcmVhQW5kUG9zaXRpb24udG9wIHx8IDA7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gb3B0aW9ucy5BcmVhQW5kUG9zaXRpb24ud2lkdGggfHwgMTAwO1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSBvcHRpb25zLkFyZWFBbmRQb3NpdGlvbi5oZWlnaHQgfHwgMTAwO1xyXG4gICAgICAgIGxldCB6SW5kZXggPSBvcHRpb25zLkFyZWFBbmRQb3NpdGlvbi56SW5kZXggfHwgOTk5O1xyXG4gICAgICAgIGxldCBpbmplY3RTY29wZSA9IG9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZS4kbmV3KCk7XHJcbiAgICAgICAgbGV0ICRib2R5ID0gJCgnYm9keScpO1xyXG4gICAgICAgICRib2R5LmFwcGVuZChgXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJteWxheWVyJHtvcHRpb25zLklEfVwiIHN0eWxlPVwiZGlzcGxheTpub25lO3Bvc2l0aW9uOiBhYnNvbHV0ZTt6LWluZGV4Ojk5OVwiPlxyXG4gICAgICAgICAgICAgICAgPCEtLTxpZnJhbWUgY2xhc3M9J2YtYWJzIHUtaWZyYW1lLWxheWVyJyBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgei1pbmRleDowO3RvcDogMDtsZWZ0OiAwO1wiPjwvaWZyYW1lPi0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm15bGF5ZXItY29udGVudFwiPiR7b3B0aW9ucy5jb250ZW50fTwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5gKTtcclxuICAgICAgICAkYm9keS5maW5kKGAjbXlsYXllciR7b3B0aW9ucy5JRH1gKS5jc3Moe1xyXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxyXG4gICAgICAgICAgICB0b3A6IHRvcCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICAgICAgb3BhY2l0eToxLFxyXG4gICAgICAgICAgICB6SW5kZXg6IHpJbmRleFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCAkY29udGVudD0gJGJvZHkuZmluZChgI215bGF5ZXIke29wdGlvbnMuSUR9YCk7XHJcbiAgICAgICAgbGV0IF9kb21TdHIgID0gJGNvbXBpbGUoJGNvbnRlbnRbMF0ub3V0ZXJIVE1MKShpbmplY3RTY29wZSk7XHJcbiAgICAgICAgJGNvbnRlbnQucmVwbGFjZVdpdGgoX2RvbVN0cik7XHJcbiAgICAgICAgaW5qZWN0U2NvcGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBfZG9tU3RyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBfZG9tU3RyID0gbnVsbDtcclxuICAgICAgICAgICAgaW5qZWN0U2NvcGUgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoYCNteWxheWVyJHtvcHRpb25zLklEfWApLmZhZGVJbig1MDApLmZpbmQoJy5teWxheWVyLWNsb3NlJykub24oJ2NsaWNrJywoKT0+e1xyXG4gICAgICAgICAgICBfdGhpcy5jbG9zZShvcHRpb25zLklEKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG5cclxuICAgICAgICAvLyB3aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICAvLyAgICAgdGhpcy5yZXNpemUoe1xyXG4gICAgICAgIC8vICAgICAgICAgbGVmdDogTWF0aC5yYW5kb20oKSAqIDUwMCxcclxuICAgICAgICAvLyAgICAgICAgIHRvcDogTWF0aC5yYW5kb20oKSAqIDUwMCxcclxuICAgICAgICAvLyAgICAgICAgIHdpZHRoOiBNYXRoLnJhbmRvbSgpICogNTAwLFxyXG4gICAgICAgIC8vICAgICAgICAgaGVpZ2h0OiBNYXRoLnJhbmRvbSgpICogNTAwLFxyXG4gICAgICAgIC8vICAgICB9LCdwb3B1bENhbWVyYScpXHJcbiAgICAgICAgLy8gfSwyMDAwKVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgX3RoaXMuY2xvc2UgPSAoSUQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmVuZCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vcHRpb25zLmVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgJGNvbnRlbnQgPSAkKGAjbXlsYXllciR7SUR9YCk7XHJcbiAgICAgICAgLy8gbGV0ICR3aW4gPSAkKHdpbmRvdyk7XHJcbiAgICAgICAgLy8gJGNvbnRlbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgLy8gICAgIGxlZnQ6ICR3aW4ud2lkdGgoKSxcclxuICAgICAgICAvLyAgICAgdG9wOiAkd2luLmhlaWdodCgpLFxyXG4gICAgICAgIC8vICAgICB3aWR0aDogMCxcclxuICAgICAgICAvLyAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgIC8vICAgICBvcGFjaXR5OjBcclxuICAgICAgICAvLyB9LCAnc2xvdycsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAkKHRoaXMpLnJlbW92ZSgpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgICQoYCNteWxheWVyJHtJRH1gKS5mYWRlT3V0KDIwMCxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMucmVzaXplID0gKHBhcmFtczogSUFyZWFBbmRQb3NpdGlvbixJRDpzdHJpbmcpID0+IHtcclxuICAgICAgICBsZXQgbGVmdCA9IHBhcmFtcy5sZWZ0IHx8IF90aGlzLm9wdGlvbnMubGVmdDtcclxuICAgICAgICBsZXQgdG9wID0gcGFyYW1zLnRvcCB8fCBfdGhpcy5vcHRpb25zLnRvcDtcclxuICAgICAgICBsZXQgd2lkdGggPSBwYXJhbXMud2lkdGggfHwgX3RoaXMub3B0aW9ucy53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gcGFyYW1zLmhlaWdodCB8fCBfdGhpcy5vcHRpb25zLmhlaWdodDtcclxuICAgICAgICBsZXQgJGNvbnRlbnQgPSAkKGAjbXlsYXllciR7SUR9YCk7XHJcblxyXG4gICAgICAgICRjb250ZW50LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxyXG4gICAgICAgICAgICB0b3A6IHRvcCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICB9O1xyXG4gICAgX3RoaXMuZGVzdHJveSA9ICgpID0+e1xyXG4gICAgICAgIGxldCBlbGVzID0gJCgnYm9keScpLmZpbmQoJy5teWxheWVyLWNvbnRlbnQnKTtcclxuICAgICAgICBlbGVzLmVhY2goZnVuY3Rpb24oaXRlbTpFbGVtZW50KXtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuICAgIHJldHVybiBfdGhpcztcclxufVxyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnbmctbXlsYXllcicsIFtdKVxyXG4gICAgLmZhY3RvcnkoJ215bGF5ZXInLCBNeWxheWVyRmFjdG9yeSk7Il19
