define(["require", "exports", "../../common/app/main.app", "jquery", "css!./alarmPopup.css"], function (require, exports, main_app_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var alarmPopulController = (function () {
        function alarmPopulController($scope, $timeout, $interval) {
            var _this = this;
            this.$scope = $scope;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.percent = 90.0;
            this.radius = 20;
            this.lineWidth = 10;
            this.fontSize = 30;
            this.process = 0.0;
            window.setTimeout(function () {
                _this.canvas = document.getElementById("canvas");
                _this.ctx = _this.canvas.getContext('2d');
                _this.circleX = _this.ctx.width / 2;
                _this.circleY = _this.canvas.height / 2;
                _this.draw();
            }, 2000);
        }
        alarmPopulController.prototype.circle = function (cx, cy, r) {
            var ctx = this.ctx;
            ctx.beginPath();
            ctx.moveTo(cx + r, cy);
            ctx.lineWidth = this.lineWidth;
            ctx.strokeStyle = '#eee';
            ctx.arc(cx, cy, r, 0, Math.PI * 2);
            ctx.closePath();
            ctx.stroke();
        };
        alarmPopulController.prototype.sector = function (cx, cy, r, startAngle, endAngle) {
            var ctx = this.ctx;
            ctx.beginPath();
            ctx.lineWidth = this.lineWidth;
            var linGrad = ctx.createLinearGradient(70, 40, 70, 100);
            linGrad.addColorStop(0.0, '#fcaa01');
            linGrad.addColorStop(1.0, '#1cbe6f');
            ctx.strokeStyle = linGrad;
            ctx.lineCap = 'round';
            ctx.arc(cx, cy, r, startAngle * (Math.PI / 180.0) + (Math.PI * 1.5), endAngle * (Math.PI / 180.0) + (Math.PI * 1.5));
            ctx.stroke();
        };
        alarmPopulController.prototype.loading = function () {
            var ctx = this.ctx;
            if (this.process >= this.percent) {
                this.$interval.cancel(this.timer);
            }
            ctx.clearRect(0, 0, this.circleX * 2, this.circleY * 2);
            ctx.font = this.fontSize + 'px April';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = '#fff';
            ctx.fillText(parseFloat(this.process).toFixed(0) + '%', this.circleX, this.circleY);
            this.circle(this.circleX, this.circleY, this.radius);
            this.sector(this.circleX, this.circleY, this.radius, 0, this.process / 100 * 360);
            if (this.process / this.percent > 0.90) {
                this.process += 0.30;
            }
            else if (this.process / this.percent > 0.80) {
                this.process += 0.55;
            }
            else if (this.process / this.percent > 0.70) {
                this.process += 0.75;
            }
            else {
                this.process += 1.0;
            }
        };
        alarmPopulController.prototype.draw = function () {
            var _this = this;
            this.timer = this.$interval(function () {
                _this.loading();
            }, 20);
        };
        alarmPopulController.$inject = ['$scope', '$timeout', '$interval'];
        return alarmPopulController;
    }());
    main_app_1.app.controller('alarmPopulController', alarmPopulController);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvY29tbW9uL2FsYXJtTXNnVGVtcGxhdGUvYWxhcm1Qb3B1cC5jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztJQVFBO1FBYUksOEJBQW9CLE1BQVcsRUFBVSxRQUFrQixFQUFVLFNBQWM7WUFBbkYsaUJBUUM7WUFSbUIsV0FBTSxHQUFOLE1BQU0sQ0FBSztZQUFVLGFBQVEsR0FBUixRQUFRLENBQVU7WUFBVSxjQUFTLEdBQVQsU0FBUyxDQUFLO1lBVG5GLFlBQU8sR0FBVyxJQUFJLENBQUM7WUFHdkIsV0FBTSxHQUFXLEVBQUUsQ0FBQztZQUNwQixjQUFTLEdBQVcsRUFBRSxDQUFDO1lBQ3ZCLGFBQVEsR0FBVyxFQUFFLENBQUM7WUFDdEIsWUFBTyxHQUFRLEdBQUcsQ0FBQztZQUlmLE1BQU0sQ0FBQyxVQUFVLENBQUM7Z0JBQ2QsS0FBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNoRCxLQUFJLENBQUMsR0FBRyxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QyxLQUFJLENBQUMsT0FBTyxHQUFHLEtBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDbEMsS0FBSSxDQUFDLE9BQU8sR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7Z0JBQ3RDLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNmLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNiLENBQUM7UUFFRCxxQ0FBTSxHQUFOLFVBQU8sRUFBTyxFQUFFLEVBQU8sRUFBRSxDQUFNO1lBQzNCLElBQUksR0FBRyxHQUFRLElBQUksQ0FBQyxHQUFHLENBQUM7WUFDeEIsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2hCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLENBQUMsRUFB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LEVBQUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFFbEYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1lBQ3pCLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1lBQ3pCLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzVDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1lBQ3pCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixJQUFJLENBQUMsT0FBTyxJQUFJLEdBQUcsQ0FBQztZQUN4QixDQUFDO1FBQ0wsQ0FBQztRQUNELG1DQUFJLEdBQUo7WUFBQSxpQkFJQztZQUhHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDeEIsS0FBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO1lBQ2xCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUNWLENBQUM7UUEzRk0sNEJBQU8sR0FBRyxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUM7UUE0RnpELDJCQUFDO0tBN0ZELEFBNkZDLElBQUE7SUFFRCxjQUFHLENBQUMsVUFBVSxDQUFDLHNCQUFzQixFQUFFLG9CQUFvQixDQUFDLENBQUMiLCJmaWxlIjoibW9kdWxlL2NvbW1vbi9hbGFybU1zZ1RlbXBsYXRlL2FsYXJtUG9wdXAuY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IExpdWJvIG9uIDIwMTcvOS8yMiAwMDIyLlxyXG4gKi9cclxuaW1wb3J0IHsgYXBwIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9hcHAvbWFpbi5hcHBcIjtcclxuaW1wb3J0ICdqcXVlcnknXHJcbmRlY2xhcmUgbGV0ICQ6IGFueTtcclxuaW1wb3J0ICdjc3MhLi9hbGFybVBvcHVwLmNzcyc7XHJcblxyXG5jbGFzcyBhbGFybVBvcHVsQ29udHJvbGxlciB7XHJcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRpbnRlcnZhbCddO1xyXG4gICAgY2FudmFzOiBhbnk7XHJcbiAgICBjdHg6IGFueTtcclxuICAgIHBlcmNlbnQ6IG51bWJlciA9IDkwLjA7IC8vIOacgOe7iOeZvuWIhuavlFxyXG4gICAgY2lyY2xlWDogbnVtYmVyOyAvLyDkuK3lv4N45Z2Q5qCHXHJcbiAgICBjaXJjbGVZOiBudW1iZXI7IC8vIOS4reW/g3nlnZDmoIdcclxuICAgIHJhZGl1czogbnVtYmVyID0gMjA7IC8vIOWchueOr+WNiuW+hFxyXG4gICAgbGluZVdpZHRoOiBudW1iZXIgPSAxMDsgLy8g5ZyG5b2i57q/5p2h55qE5a695bqmXHJcbiAgICBmb250U2l6ZTogbnVtYmVyID0gMzA7IC8vIOWtl+S9k+Wkp+Wwj1xyXG4gICAgcHJvY2VzczogYW55ID0gMC4wO1xyXG4gICAgdGltZXI6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTogYW55LCBwcml2YXRlICR0aW1lb3V0OiBGdW5jdGlvbiwgcHJpdmF0ZSAkaW50ZXJ2YWw6IGFueSkge1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZVggPSB0aGlzLmN0eC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlWSA9IHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpXHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2lyY2xlKGN4OiBhbnksIGN5OiBhbnksIHI6IGFueSkge1xyXG4gICAgICAgIGxldCBjdHg6IGFueSA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKGN4ICsgciwgY3kpO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2VlZSc7XHJcbiAgICAgICAgY3R4LmFyYyhjeCwgY3ksIHIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlY3RvcihjeDogYW55LCBjeTogYW55LCByOiBhbnksIHN0YXJ0QW5nbGU6IGFueSwgZW5kQW5nbGU6IGFueSkge1xyXG4gICAgICAgIGxldCBjdHg6IGFueSA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICBjdHgubW92ZVRvKGN4LCBjeSArIHIpOyAvLyDku47lnIblvaLlupXpg6jlvIDlp4vnlLtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XHJcblxyXG4gICAgICAgIC8vIOa4kOWPmOiJsiAtIOWPr+iHquWumuS5iVxyXG4gICAgICAgIC8vIGxldCBsaW5HcmFkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICAgIC8vICAgICB0aGlzLmNpcmNsZVgsIGEsIHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZICsgdGhpcy5yYWRpdXMgKyB0aGlzLmxpbmVXaWR0aFxyXG4gICAgICAgIC8vICk7XHJcbiAgICAgICAgbGV0IGxpbkdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoXHJcbiAgICAgICAgICAgIDcwLCA0MCwgNzAsIDEwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluR3JhZC5hZGRDb2xvclN0b3AoMC4wLCAnI2ZjYWEwMScpO1xyXG4gICAgICAgIGxpbkdyYWQuYWRkQ29sb3JTdG9wKDEuMCwgJyMxY2JlNmYnKTtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbGluR3JhZDtcclxuXHJcbiAgICAgICAgLy8g5ZyG5byn5Lik56uv55qE5qC35byPXHJcbiAgICAgICAgY3R4LmxpbmVDYXAgPSAncm91bmQnO1xyXG4gICAgICAgIC8v5ZyG5bynXHJcbiAgICAgICAgY3R4LmFyYyhcclxuICAgICAgICAgICAgY3gsIGN5LCByLFxyXG4gICAgICAgICAgICBzdGFydEFuZ2xlICogKE1hdGguUEkgLyAxODAuMCkgKyAoTWF0aC5QSSAqIDEuNSksXHJcbiAgICAgICAgICAgIGVuZEFuZ2xlICogKE1hdGguUEkgLyAxODAuMCkgKyAoTWF0aC5QSSAqIDEuNSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuICAgIGxvYWRpbmcoKSB7XHJcbiAgICAgICAgbGV0IGN0eDogYW55ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2VzcyA+PSB0aGlzLnBlcmNlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMudGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2lyY2xlWCAqIDIsIHRoaXMuY2lyY2xlWSAqIDIpO1xyXG5cclxuICAgICAgICAvLyDkuK3pl7TnmoTlrZdcclxuICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNpemUgKyAncHggQXByaWwnO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcclxuICAgICAgICBjdHguZmlsbFRleHQocGFyc2VGbG9hdCh0aGlzLnByb2Nlc3MpLnRvRml4ZWQoMCkgKyAnJScsIHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZKTtcclxuICAgICAgICB0aGlzLmNpcmNsZSh0aGlzLmNpcmNsZVgsIHRoaXMuY2lyY2xlWSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgIHRoaXMuc2VjdG9yKHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZLCB0aGlzLnJhZGl1cywgMCwgdGhpcy5wcm9jZXNzIC8gMTAwICogMzYwKTtcclxuICAgICAgICAvLyDmjqfliLbnu5PmnZ/ml7bliqjnlLvnmoTpgJ/luqZcclxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzIC8gdGhpcy5wZXJjZW50ID4gMC45MCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MgKz0gMC4zMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvY2VzcyAvIHRoaXMucGVyY2VudCA+IDAuODApIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzICs9IDAuNTU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb2Nlc3MgLyB0aGlzLnBlcmNlbnQgPiAwLjcwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyArPSAwLjc1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyArPSAxLjA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB0aGlzLnRpbWVyID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcoKVxyXG4gICAgICAgIH0sIDIwKVxyXG4gICAgfVxyXG59XHJcblxyXG5hcHAuY29udHJvbGxlcignYWxhcm1Qb3B1bENvbnRyb2xsZXInLCBhbGFybVBvcHVsQ29udHJvbGxlcik7Il19
