define(["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var PageParamsAndResult = (function () {
        function PageParamsAndResult() {
            this.totalCount = 1;
            this.pageSize = 10;
            this.currentPage = 1;
            this.pageCount = 1;
        }
        return PageParamsAndResult;
    }());
    exports.PageParamsAndResult = PageParamsAndResult;
    var Pagination = (function () {
        function Pagination() {
            this.data = [];
            this.mapData = {};
            this.result = new PageParamsAndResult();
        }
        Pagination.prototype.set = function (data) {
            var _this = this;
            if (Array.isArray(data)) {
                data.forEach(function (item, index) {
                    item['pageId'] = "Pagination" + index;
                    _this.mapData["Pagination" + index] = item;
                });
                this.data = data;
                return true;
            }
            else {
                console.error('Pagination ===> params is not Array');
                return false;
            }
        };
        Pagination.prototype.get = function () {
            return angular.copy(this.data);
        };
        Pagination.prototype.delByPageId = function (pageId) {
            if (this.mapData[pageId]) {
                delete this.mapData[pageId];
                var tempRes = [];
                for (var k in this.mapData) {
                    tempRes.push(this.mapData[k]);
                }
                this.data = tempRes;
                return true;
            }
            else {
                console.error("Pagination ===> pageId is not found");
                return false;
            }
        };
        Pagination.prototype.updateByPageId = function (pageId, item) {
            if (this.mapData[pageId]) {
                this.mapData[pageId] = item;
                this.mapData[pageId].pageId = pageId;
                var tempRes = [];
                for (var k in this.mapData) {
                    tempRes.push(this.mapData[k]);
                }
                this.data = tempRes;
                return true;
            }
            else {
                console.error("Pagination ===> pageId is not found");
                return false;
            }
        };
        Pagination.prototype.getByPage = function (params) {
            this.result.pageSize = params.pageSize || 10;
            this.result.currentPage = params.currentPage || 1;
            var res = angular.copy(this.data);
            this.result.totalCount = res.length;
            this.result.allData = res;
            if (this.result.totalCount % this.result.pageSize === 0) {
                this.result.pageCount = Math.round(this.result.totalCount / this.result.pageSize);
            }
            else {
                this.result.pageCount = Math.ceil(this.result.totalCount / this.result.pageSize);
            }
            if (this.result.currentPage > this.result.pageCount) {
                this.result.currentPage = this.result.pageCount;
            }
            var start = (this.result.currentPage - 1) * this.result.pageSize;
            var end = this.result.currentPage * this.result.pageSize;
            this.result.data = res.slice(start, end);
            res = null;
            return angular.copy(this.result);
        };
        return Pagination;
    }());
    exports.Pagination = Pagination;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvY29tbW9uL1BhZ2luYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBRUE7UUFBQTtZQUNJLGVBQVUsR0FBVyxDQUFDLENBQUM7WUFDdkIsYUFBUSxHQUFXLEVBQUUsQ0FBQztZQUN0QixnQkFBVyxHQUFXLENBQUMsQ0FBQztZQUN4QixjQUFTLEdBQVcsQ0FBQyxDQUFDO1FBRzFCLENBQUM7UUFBRCwwQkFBQztJQUFELENBUEEsQUFPQyxJQUFBO0lBUFksa0RBQW1CO0lBcUJoQztRQUFBO1lBQ1ksU0FBSSxHQUFlLEVBQUUsQ0FBQztZQUN0QixZQUFPLEdBQTJCLEVBQUUsQ0FBQztZQUNyQyxXQUFNLEdBQXdCLElBQUksbUJBQW1CLEVBQUUsQ0FBQztRQTBFcEUsQ0FBQztRQXhFRyx3QkFBRyxHQUFILFVBQUksSUFBZ0I7WUFBcEIsaUJBWUM7WUFYRyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQVMsRUFBRSxLQUFhO29CQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsZUFBYSxLQUFPLENBQUM7b0JBQ3RDLEtBQUksQ0FBQyxPQUFPLENBQUMsZUFBYSxLQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7Z0JBQzlDLENBQUMsQ0FBQyxDQUFDO2dCQUNILElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUNqQixNQUFNLENBQUMsSUFBSSxDQUFBO1lBQ2YsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLE9BQU8sQ0FBQyxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztnQkFDckQsTUFBTSxDQUFDLEtBQUssQ0FBQTtZQUNoQixDQUFDO1FBQ0wsQ0FBQztRQUVELHdCQUFHLEdBQUg7WUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFD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QztZQUNyRixDQUFDO1lBQ0QsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNwRCxDQUFDO1lBSUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNqRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUN6RCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN6QyxHQUFHLEdBQUcsSUFBSSxDQUFDO1lBQ1gsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFDTCxpQkFBQztJQUFELENBN0VBLEFBNkVDLElBQUE7SUE3RVksZ0NBQVUiLCJmaWxlIjoibW9kdWxlL2NvbW1vbi9QYWdpbmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZGVjbGFyZSBsZXQgYW5ndWxhcjogYW55O1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VQYXJhbXNBbmRSZXN1bHQge1xyXG4gICAgdG90YWxDb3VudDogbnVtYmVyID0gMTtcclxuICAgIHBhZ2VTaXplOiBudW1iZXIgPSAxMDtcclxuICAgIGN1cnJlbnRQYWdlOiBudW1iZXIgPSAxO1xyXG4gICAgcGFnZUNvdW50OiBudW1iZXIgPSAxO1xyXG4gICAgZGF0YT86IEFycmF5PGFueT47XHJcbiAgICBhbGxEYXRhPzogQXJyYXk8YW55PjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUGFnaW5hdGlvbiB7XHJcbiAgICBnZXRCeVBhZ2UocGFyYW1zOiBQYWdlUGFyYW1zQW5kUmVzdWx0KTogUGFnZVBhcmFtc0FuZFJlc3VsdDtcclxuXHJcbiAgICBzZXQoZGF0YTogQXJyYXk8YW55Pik6IGJvb2xlYW5cclxuXHJcbiAgICBnZXQoKTogQXJyYXk8YW55PlxyXG5cclxuICAgIGRlbEJ5UGFnZUlkKHBhZ2VJZDogc3RyaW5nKTogYm9vbGVhbjtcclxuXHJcbiAgICB1cGRhdGVCeVBhZ2VJZChwYWdlSWQ6IHN0cmluZywgaXRlbTogYW55KTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2luYXRpb24gaW1wbGVtZW50cyBJUGFnaW5hdGlvbiB7XHJcbiAgICBwcml2YXRlIGRhdGE6IEFycmF5PGFueT4gPSBbXTtcclxuICAgIHByaXZhdGUgbWFwRGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSByZXN1bHQ6IFBhZ2VQYXJhbXNBbmRSZXN1bHQgPSBuZXcgUGFnZVBhcmFtc0FuZFJlc3VsdCgpO1xyXG5cclxuICAgIHNldChkYXRhOiBBcnJheTxhbnk+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1bJ3BhZ2VJZCddID0gYFBhZ2luYXRpb24ke2luZGV4fWA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcERhdGFbYFBhZ2luYXRpb24ke2luZGV4fWBdID0gaXRlbTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUGFnaW5hdGlvbiA9PT0+IHBhcmFtcyBpcyBub3QgQXJyYXknKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCgpOiBBcnJheTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsQnlQYWdlSWQocGFnZUlkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5tYXBEYXRhW3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWFwRGF0YVtwYWdlSWRdO1xyXG4gICAgICAgICAgICBsZXQgdGVtcFJlcyA9IFtdIGFzICBBcnJheTxhbnk+O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrIGluIHRoaXMubWFwRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcFJlcy5wdXNoKHRoaXMubWFwRGF0YVtrXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZW1wUmVzO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQYWdpbmF0aW9uID09PT4gcGFnZUlkIGlzIG5vdCBmb3VuZGApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJ5UGFnZUlkKHBhZ2VJZDogc3RyaW5nLCBpdGVtOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5tYXBEYXRhW3BhZ2VJZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5tYXBEYXRhW3BhZ2VJZF0gPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLm1hcERhdGFbcGFnZUlkXS5wYWdlSWQgPSBwYWdlSWQ7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wUmVzID0gW10gYXMgIEFycmF5PGFueT47XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgaW4gdGhpcy5tYXBEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wUmVzLnB1c2godGhpcy5tYXBEYXRhW2tdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRlbXBSZXM7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFBhZ2luYXRpb24gPT09PiBwYWdlSWQgaXMgbm90IGZvdW5kYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QnlQYWdlKHBhcmFtczogUGFnZVBhcmFtc0FuZFJlc3VsdCk6IFBhZ2VQYXJhbXNBbmRSZXN1bHQge1xyXG4gICAgICAgIHRoaXMucmVzdWx0LnBhZ2VTaXplID0gcGFyYW1zLnBhZ2VTaXplIHx8IDEwO1xyXG4gICAgICAgIHRoaXMucmVzdWx0LmN1cnJlbnRQYWdlID0gcGFyYW1zLmN1cnJlbnRQYWdlIHx8IDE7XHJcbiAgICAgICAgbGV0IHJlcyA9IGFuZ3VsYXIuY29weSh0aGlzLmRhdGEpIGFzIEFycmF5PGFueT47XHJcbiAgICAgICAgdGhpcy5yZXN1bHQudG90YWxDb3VudCA9IHJlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5yZXN1bHQuYWxsRGF0YSA9IHJlcztcclxuICAgICAgICBpZiAodGhpcy5yZXN1bHQudG90YWxDb3VudCAlIHRoaXMucmVzdWx0LnBhZ2VTaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnBhZ2VDb3VudCA9IE1hdGgucm91bmQodGhpcy5yZXN1bHQudG90YWxDb3VudCAvIHRoaXMucmVzdWx0LnBhZ2VTaXplKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wYWdlQ291bnQgPSBNYXRoLmNlaWwodGhpcy5yZXN1bHQudG90YWxDb3VudCAvIHRoaXMucmVzdWx0LnBhZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LmN1cnJlbnRQYWdlID4gdGhpcy5yZXN1bHQucGFnZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LmN1cnJlbnRQYWdlID0gdGhpcy5yZXN1bHQucGFnZUNvdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAodGhpcy5yZXN1bHQucGFnZVNpemUgPiB0aGlzLnJlc3VsdC50b3RhbENvdW50KSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucmVzdWx0LnBhZ2VTaXplID0gdGhpcy5yZXN1bHQudG90YWxDb3VudFxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBsZXQgc3RhcnQgPSAodGhpcy5yZXN1bHQuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucmVzdWx0LnBhZ2VTaXplO1xyXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLnJlc3VsdC5jdXJyZW50UGFnZSAqIHRoaXMucmVzdWx0LnBhZ2VTaXplO1xyXG4gICAgICAgIHRoaXMucmVzdWx0LmRhdGEgPSByZXMuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgcmVzID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KHRoaXMucmVzdWx0KTtcclxuICAgIH1cclxufSJdfQ==
