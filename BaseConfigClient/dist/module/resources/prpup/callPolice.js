define(["require", "exports", "../../common/app/main.app", "jquery", "css!../style/callPoint.css"], function (require, exports, main_app_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var callPoliceController = (function () {
        function callPoliceController($scope, $timeout, $interval) {
            var _this = this;
            this.$scope = $scope;
            this.$timeout = $timeout;
            this.$interval = $interval;
            this.percent = 90.0;
            this.radius = 20;
            this.lineWidth = 10;
            this.fontSize = 30;
            this.process = 0.0;
            window.setTimeout(function () {
                _this.canvas = document.getElementById("canvas");
                _this.ctx = _this.canvas.getContext('2d');
                _this.circleX = _this.ctx.width / 2;
                _this.circleY = _this.canvas.height / 2;
                _this.draw();
            }, 2000);
        }
        callPoliceController.prototype.circle = function (cx, cy, r) {
            var ctx = this.ctx;
            ctx.beginPath();
            ctx.moveTo(cx + r, cy);
            ctx.lineWidth = this.lineWidth;
            ctx.strokeStyle = '#eee';
            ctx.arc(cx, cy, r, 0, Math.PI * 2);
            ctx.closePath();
            ctx.stroke();
        };
        callPoliceController.prototype.sector = function (cx, cy, r, startAngle, endAngle) {
            var ctx = this.ctx;
            ctx.beginPath();
            ctx.lineWidth = this.lineWidth;
            var linGrad = ctx.createLinearGradient(70, 40, 70, 100);
            linGrad.addColorStop(0.0, '#fcaa01');
            linGrad.addColorStop(1.0, '#1cbe6f');
            ctx.strokeStyle = linGrad;
            ctx.lineCap = 'round';
            ctx.arc(cx, cy, r, startAngle * (Math.PI / 180.0) + (Math.PI * 1.5), endAngle * (Math.PI / 180.0) + (Math.PI * 1.5));
            ctx.stroke();
        };
        callPoliceController.prototype.loading = function () {
            var ctx = this.ctx;
            if (this.process >= this.percent) {
                this.$interval.cancel(this.timer);
            }
            ctx.clearRect(0, 0, this.circleX * 2, this.circleY * 2);
            ctx.font = this.fontSize + 'px April';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = '#fff';
            ctx.fillText(parseFloat(this.process).toFixed(0) + '%', this.circleX, this.circleY);
            this.circle(this.circleX, this.circleY, this.radius);
            this.sector(this.circleX, this.circleY, this.radius, 0, this.process / 100 * 360);
            if (this.process / this.percent > 0.90) {
                this.process += 0.30;
            }
            else if (this.process / this.percent > 0.80) {
                this.process += 0.55;
            }
            else if (this.process / this.percent > 0.70) {
                this.process += 0.75;
            }
            else {
                this.process += 1.0;
            }
        };
        callPoliceController.prototype.draw = function () {
            var _this = this;
            this.timer = this.$interval(function () {
                _this.loading();
            }, 20);
        };
        callPoliceController.$inject = ['$scope', '$timeout', '$interval'];
        return callPoliceController;
    }());
    main_app_1.app.controller('callPoliceController', callPoliceController);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9tb2R1bGUvcmVzb3VyY2VzL3BycHVwL2NhbGxQb2xpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBT0E7UUFhSSw4QkFBb0IsTUFBVyxFQUFVLFFBQWtCLEVBQVUsU0FBYztZQUFuRixpQkFRQztZQVJtQixXQUFNLEdBQU4sTUFBTSxDQUFLO1lBQVUsYUFBUSxHQUFSLFFBQVEsQ0FBVTtZQUFVLGNBQVMsR0FBVCxTQUFTLENBQUs7WUFUbkYsWUFBTyxHQUFXLElBQUksQ0FBQztZQUd2QixXQUFNLEdBQVcsRUFBRSxDQUFDO1lBQ3BCLGNBQVMsR0FBVyxFQUFFLENBQUM7WUFDdkIsYUFBUSxHQUFXLEVBQUUsQ0FBQztZQUN0QixZQUFPLEdBQVEsR0FBRyxDQUFDO1lBSWYsTUFBTSxDQUFDLFVBQVUsQ0FBQztnQkFDZCxLQUFJLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hELEtBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hDLEtBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQyxLQUFJLENBQUMsT0FBTyxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztnQkFDdEMsS0FBSSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ2YsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2IsQ0FBQztRQUVELHFDQUFNLEdBQU4sVUFBTyxFQUFPLEVBQUUsRUFBTyxFQUFFLENBQU07WUFDM0IsSUFBSSxHQUFHLEdBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQztZQUN4QixHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDaEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lB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TyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztZQUVsRixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDckMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7WUFDekIsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7WUFDekIsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7WUFDekIsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLElBQUksQ0FBQyxPQUFPLElBQUksR0FBRyxDQUFDO1lBQ3hCLENBQUM7UUFDTCxDQUFDO1FBQ0QsbUNBQUksR0FBSjtZQUFBLGlCQUlDO1lBSEcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUN4QixLQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7WUFDbEIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1FBQ1YsQ0FBQztRQTNGTSw0QkFBTyxHQUFHLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztRQTRGekQsMkJBQUM7S0E3RkQsQUE2RkMsSUFBQTtJQUVELGNBQUcsQ0FBQyxVQUFVLENBQUMsc0JBQXNCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyIsImZpbGUiOiJtb2R1bGUvcmVzb3VyY2VzL3BycHVwL2NhbGxQb2xpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSBMaXVibyBvbiAyMDE3LzkvMjIgMDAyMi5cclxuICovXHJcbmltcG9ydCB7IGFwcCB9IGZyb20gXCIuLi8uLi9jb21tb24vYXBwL21haW4uYXBwXCI7XHJcbmltcG9ydCAnanF1ZXJ5J1xyXG5kZWNsYXJlIGxldCAkOiBhbnk7XHJcbmltcG9ydCAnY3NzIS4uL3N0eWxlL2NhbGxQb2ludC5jc3MnO1xyXG5jbGFzcyBjYWxsUG9saWNlQ29udHJvbGxlciB7XHJcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRpbnRlcnZhbCddO1xyXG4gICAgY2FudmFzOiBhbnk7XHJcbiAgICBjdHg6IGFueTtcclxuICAgIHBlcmNlbnQ6IG51bWJlciA9IDkwLjA7IC8vIOacgOe7iOeZvuWIhuavlFxyXG4gICAgY2lyY2xlWDogbnVtYmVyOyAvLyDkuK3lv4N45Z2Q5qCHXHJcbiAgICBjaXJjbGVZOiBudW1iZXI7IC8vIOS4reW/g3nlnZDmoIdcclxuICAgIHJhZGl1czogbnVtYmVyID0gMjA7IC8vIOWchueOr+WNiuW+hFxyXG4gICAgbGluZVdpZHRoOiBudW1iZXIgPSAxMDsgLy8g5ZyG5b2i57q/5p2h55qE5a695bqmXHJcbiAgICBmb250U2l6ZTogbnVtYmVyID0gMzA7IC8vIOWtl+S9k+Wkp+Wwj1xyXG4gICAgcHJvY2VzczogYW55ID0gMC4wO1xyXG4gICAgdGltZXI6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTogYW55LCBwcml2YXRlICR0aW1lb3V0OiBGdW5jdGlvbiwgcHJpdmF0ZSAkaW50ZXJ2YWw6IGFueSkge1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZVggPSB0aGlzLmN0eC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlWSA9IHRoaXMuY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpXHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2lyY2xlKGN4OiBhbnksIGN5OiBhbnksIHI6IGFueSkge1xyXG4gICAgICAgIGxldCBjdHg6IGFueSA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKGN4ICsgciwgY3kpO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2VlZSc7XHJcbiAgICAgICAgY3R4LmFyYyhjeCwgY3ksIHIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlY3RvcihjeDogYW55LCBjeTogYW55LCByOiBhbnksIHN0YXJ0QW5nbGU6IGFueSwgZW5kQW5nbGU6IGFueSkge1xyXG4gICAgICAgIGxldCBjdHg6IGFueSA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICBjdHgubW92ZVRvKGN4LCBjeSArIHIpOyAvLyDku47lnIblvaLlupXpg6jlvIDlp4vnlLtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XHJcblxyXG4gICAgICAgIC8vIOa4kOWPmOiJsiAtIOWPr+iHquWumuS5iVxyXG4gICAgICAgIC8vIGxldCBsaW5HcmFkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxyXG4gICAgICAgIC8vICAgICB0aGlzLmNpcmNsZVgsIGEsIHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZICsgdGhpcy5yYWRpdXMgKyB0aGlzLmxpbmVXaWR0aFxyXG4gICAgICAgIC8vICk7XHJcbiAgICAgICAgbGV0IGxpbkdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoXHJcbiAgICAgICAgICAgIDcwLCA0MCwgNzAsIDEwMFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluR3JhZC5hZGRDb2xvclN0b3AoMC4wLCAnI2ZjYWEwMScpO1xyXG4gICAgICAgIGxpbkdyYWQuYWRkQ29sb3JTdG9wKDEuMCwgJyMxY2JlNmYnKTtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbGluR3JhZDtcclxuXHJcbiAgICAgICAgLy8g5ZyG5byn5Lik56uv55qE5qC35byPXHJcbiAgICAgICAgY3R4LmxpbmVDYXAgPSAncm91bmQnO1xyXG4gICAgICAgIC8v5ZyG5bynXHJcbiAgICAgICAgY3R4LmFyYyhcclxuICAgICAgICAgICAgY3gsIGN5LCByLFxyXG4gICAgICAgICAgICBzdGFydEFuZ2xlICogKE1hdGguUEkgLyAxODAuMCkgKyAoTWF0aC5QSSAqIDEuNSksXHJcbiAgICAgICAgICAgIGVuZEFuZ2xlICogKE1hdGguUEkgLyAxODAuMCkgKyAoTWF0aC5QSSAqIDEuNSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuICAgIGxvYWRpbmcoKSB7XHJcbiAgICAgICAgbGV0IGN0eDogYW55ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2VzcyA+PSB0aGlzLnBlcmNlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMudGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2lyY2xlWCAqIDIsIHRoaXMuY2lyY2xlWSAqIDIpO1xyXG5cclxuICAgICAgICAvLyDkuK3pl7TnmoTlrZdcclxuICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNpemUgKyAncHggQXByaWwnO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmJztcclxuICAgICAgICBjdHguZmlsbFRleHQocGFyc2VGbG9hdCh0aGlzLnByb2Nlc3MpLnRvRml4ZWQoMCkgKyAnJScsIHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZKTtcclxuICAgICAgICB0aGlzLmNpcmNsZSh0aGlzLmNpcmNsZVgsIHRoaXMuY2lyY2xlWSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgIHRoaXMuc2VjdG9yKHRoaXMuY2lyY2xlWCwgdGhpcy5jaXJjbGVZLCB0aGlzLnJhZGl1cywgMCwgdGhpcy5wcm9jZXNzIC8gMTAwICogMzYwKTtcclxuICAgICAgICAvLyDmjqfliLbnu5PmnZ/ml7bliqjnlLvnmoTpgJ/luqZcclxuICAgICAgICBpZiAodGhpcy5wcm9jZXNzIC8gdGhpcy5wZXJjZW50ID4gMC45MCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MgKz0gMC4zMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvY2VzcyAvIHRoaXMucGVyY2VudCA+IDAuODApIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzICs9IDAuNTU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb2Nlc3MgLyB0aGlzLnBlcmNlbnQgPiAwLjcwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyArPSAwLjc1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcyArPSAxLjA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB0aGlzLnRpbWVyID0gdGhpcy4kaW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcoKVxyXG4gICAgICAgIH0sIDIwKVxyXG4gICAgfVxyXG59XHJcblxyXG5hcHAuY29udHJvbGxlcignY2FsbFBvbGljZUNvbnRyb2xsZXInLCBjYWxsUG9saWNlQ29udHJvbGxlcik7Il19
